exports.id=29,exports.ids=[29],exports.modules={6228:(e,t,a)=>{Promise.resolve().then(a.bind(a,78258)),Promise.resolve().then(a.bind(a,86900)),Promise.resolve().then(a.bind(a,39103)),Promise.resolve().then(a.bind(a,29028)),Promise.resolve().then(a.bind(a,23608)),Promise.resolve().then(a.bind(a,54475))},16666:(e,t,a)=>{"use strict";a.d(t,{ReadOnlyEditor:()=>e4,default:()=>e2,T:()=>e0});var r,s,i=a(10326),n=a(22191),l=a(98066),o=a(78788),c=a(76057),d=a(23232),u=a(45112),m=a(15813),p=a(55976),h=a(42337),g=a(54511),x=a(94622),f=a(17577),w=a.n(f),v=a(48260),y=a(60114),_=a(5305),b=a(23844);let j=({title:e,icon:t,onClick:a,onMouseLeave:r,appendAfter:s,disabled:n=!1,active:l=!1,undoOnEmptySelection:o=!1,disablePreview:c=!1,disableUndo:d=!1})=>{let[u]=(0,h.g)(),{addClass:m,removeClass:p}=e0(e=>({addClass:e.addClass,removeClass:e.removeClass})),g=(0,b.useTranslations)("editor"),[x,w]=(0,f.useState)(n),[y,j]=(0,f.useState)(!1),[S,k]=(0,f.useState)(!1),{setSharedSelectionBackgroundTimeout:C,clearSelectionBackgroundTimeout:Z}=eN(e=>({setSharedSelectionBackgroundTimeout:e.setSharedSelectionBackgroundTimeout,clearSelectionBackgroundTimeout:e.clearSelectionBackgroundTimeout}));return(0,f.useEffect)(()=>{(!y||S)&&w(n)},[n,y,S]),(0,i.jsxs)(i.Fragment,{children:[i.jsx(_.Z,{title:g(e),placement:"top",arrow:!0,children:i.jsx(v.Z,{onClick:()=>{(S||c)&&(console.log("clicked"),a(),p("invisible-selection")),k(!0)},disabled:x,className:l?"active":"",onMouseEnter:c?void 0:()=>{j(!0),Z(),m("invisible-selection"),a()},onMouseLeave:c?void 0:r?()=>{S||r(),k(!1),j(!1)}:()=>{C(setTimeout(()=>{p("invisible-selection")},200)),eE(u,S,k,o),j(!1)},children:t})}),s&&s()]})};var S=a(7783),k=a(62232),C=a(3188),Z=a(42265),N=a(25609);class P extends g.R2{constructor(e,t,a=[]){super(e,t),this.__classList=[],this.__classList.push(...a)}static getType(){return"custom-text"}setMediaClass(e){RegExp(`(${Object.values(r).map(e=>`(${e})`).join("|")})-media`).test(this.__classList[0])&&this.__classList.splice(0,1),e&&this.__classList.splice(0,0,`${e}-media`)}get classList(){return this.__classList}set classList(e){this.__classList.splice(0,this.__classList.length,...e)}static clone(e){return new P(e.getTextContent(),e.getKey(),e.__classList)}updateDOM(e,t,a){return t.classList.remove(...e.__classList),t.classList.add(...this.__classList),super.updateDOM(e,t,a)}createDOM(e,t){let a=super.createDOM(e,t);return a.classList.add(...this.__classList),a}isSimpleText(){return 0==this.__mode}exportJSON(){return{...super.exportJSON(),type:P.getType(),_classList:this.__classList}}exportDOM(e){let t=super.exportDOM(e);return t.element.classList.add(...this.__classList),t}static importJSON(e){let t=super.importJSON(e);return t.__classList.push(...e._classList),t}}!function(e){e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.BODY1="body1",e.BODY2="body2",e.CAPTION="caption"}(r||(r={}));let T=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),M=(e,t)=>{for(let t of["font-weight","font-style","text-decoration","font-family","font-size","color","background-color"])(0,x.yD)(e,{[t]:null});for(let[a,r]of Object.entries(C.ZP.typography[t]))"string"!=typeof r&&("fontSize"===a||a.startsWith("@"))?"fontSize"===a&&(0,x.yD)(e,{[T(a)]:r.toString()+"px"}):(0,x.yD)(e,{[T(a)]:r.toString()});(0,x.yD)(e,{"--level":t})},O=e=>{switch(e){case"h1":return"Heading 1";case"h2":return"Heading 2";case"h3":return"Heading 3";case"h4":return"Heading 4";case"h5":return"Heading 5";case"h6":return"Heading 6";case"body1":return"Body 1";case"body2":return"Body 2";case"caption":return"Caption"}};function E({level:e}){let t=(0,h.g)()[0],[a,s]=(0,f.useState)(!1),{addClass:n,removeClass:l}=e0(e=>({addClass:e.addClass,removeClass:e.removeClass})),{clearSelectionColorTimeout:o,setSelectionColorTimeout:c}=eN(e=>({clearSelectionColorTimeout:e.clearSelectionBackgroundTimeout,setSelectionColorTimeout:e.setSharedSelectionBackgroundTimeout}));return i.jsx(Z.Z,{className:"min-w-fit",onClick:()=>{s(!0)},onMouseEnter:()=>{o(),n("invisible-selection"),t.update(()=>{let t=(0,g.dL)();(0,g.OP)(t)&&M(t,r[e])},{onUpdate:void 0}),t.update(()=>{let t=(0,g.dL)();(0,g.OP)(t)&&t.getNodes().forEach(t=>{t instanceof P&&t.setMediaClass(r[e])})})},onMouseLeave:()=>{c(setTimeout(()=>{l("invisible-selection")},200)),eE(t,a,s)},children:i.jsx(N.Z,{variant:e.toLowerCase(),children:O(r[e])})})}var L=a(11833),F=a(66362),D=a(6062),R=a(42797),z=a(56966),I=a(75715),$=a(61973),B=a(95052),U=a(49040),H=a(45102),A=a(14212),q=a(69574),J=a(76326),W=a(15246),K=a(54014);function X({props:e,cssProperty:t,valuePreprocessor:a,option:r,afterUpdate:s,performOnSelection:n,undoOnEmptySelection:l}){let o=(0,h.g)()[0],[c,d]=(0,f.useState)(!1);return i.jsx(J.ZP,{...e,onClick:()=>d(!0),onMouseEnter:()=>{o.update(()=>{let e=(0,g.dL)();(0,g.OP)(e)&&(n?n(e,r):(0,x.yD)(e,{[t]:a(r)}))}),s&&s()},onMouseLeave:()=>eE(o,c,d,l),children:i.jsx(N.Z,{noWrap:!0,variant:"body1",children:r})})}let Y=({label:e,cssProperty:t,autocompleteProps:a,validator:r,valuePreprocessor:s=e=>e,afterUpdate:n,inputType:l="number",performOnSelection:o,undoOnEmptySelection:c=!1})=>{let d=(0,h.g)()[0],[u,m]=(0,f.useState)(a.defaultValue??""),p=(0,f.useRef)(null);(0,f.useEffect)(()=>{m(a.defaultValue??"")},[a.defaultValue]);let{addClass:w,removeClass:v}=e0(e=>({addClass:e.addClass,removeClass:e.removeClass})),[y,_]=(0,f.useState)(!1),j=(0,b.useTranslations)("editor");return console.log(u),i.jsx(W.Z,{open:y,onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),_(!0)},onMouseLeave:()=>{p.current=setTimeout(()=>{_(!1),p.current=null},100)},className:"min-w-fit w-[10%]",...a,disableClearable:!0,value:u,onChange:(e,a)=>{a=a??"",(!r||r(a))&&(m(a),d.update(()=>{let e=(0,g.dL)();(0,g.OP)(e)&&(o?o(e,a):(0,x.yD)(e,{[t]:s(a)}),(0,x.yD)(e,{"--level":null}))}))},renderInput:t=>i.jsx(K.Z,{...t,label:j(e),variant:"standard",required:!0,type:l,value:u}),renderOption:(e,a)=>i.jsx(X,{props:e,cssProperty:t,valuePreprocessor:s,option:a,afterUpdate:n,performOnSelection:o,undoOnEmptySelection:c},a),componentsProps:{paper:{onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),_(!0),w("invisible-selection")},onMouseLeave:()=>{p.current=setTimeout(()=>{v("invisible-selection"),_(!1),p.current=null},200)},onClick:()=>{p.current&&(clearTimeout(p.current),p.current=null),v("invisible-selection"),_(!1)}}}})},G=JSON.parse('["IBM Plex Mono","IBM Plex Serif","Inter","Times New Roman","Comic Sans","Arial"]');var V=a(12313),Q=a(52321),ee=a(38781);let et=e=>new Promise((t,a)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=a}),ea=async(e,t)=>{for(let a of(e.preventDefault(),e.dataTransfer.files))a.type.startsWith("image")&&t(a)},er=async(e,t)=>{e.currentTarget.files&&e.currentTarget.files[0]&&e.currentTarget.files[0].type.startsWith("image")&&t(e.currentTarget.files[0])},es=({onPictureUpload:e=()=>{},resetOnUpload:t=!1,className:a="",initialPicture:r=null})=>{let[s,n]=w().useState(null),l=Math.floor(1e9*Math.random());function o(){return s?URL.createObjectURL(s):r||void 0}(0,f.useEffect)(()=>{s&&et(s).then(t=>{t&&e(t)}).then(()=>{t?n(null):n(s)})},[s]);let[c,d]=(0,f.useState)(o());return(0,f.useEffect)(()=>{d(o())},[s,r]),i.jsx(_.Z,{title:"Upload image",followCursor:!0,PopperProps:{modifiers:[{name:"offset",options:{offset:[50,0]}}]},children:(0,i.jsxs)(k.Z,{className:`${a} w-full h-full flex items-center justify-center border-black border-[1px]`,style:c?{backgroundImage:`url("${c}")`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{},children:[i.jsx(V.Z,{required:!0,htmlFor:`image-dropzone-${l}`,className:"p-2 flex items-center justify-center hover:cursor-pointer",onDrop:e=>ea(e,n),onDragOver:e=>e.preventDefault(),children:(0,i.jsxs)(k.Z,{className:"flex flex-col gap-2 bg-white bg-opacity-85 justify-center items-center rounded-3xl w-full h-full",children:[i.jsx(ee.Z,{fontSize:"large"}),i.jsx(N.Z,{variant:"caption",className:"w-4/5 text-wrap text-center",children:"Drop your image here"})]})}),i.jsx(Q.Z,{required:!0,id:`image-dropzone-${l}`,value:null===s?"":void 0,type:"file",name:"image",className:"opacity-0 w-0",onChange:e=>er(e,n)})]})})};var ei=a(46127);class en extends g.Ij{constructor(e,t,a,r,s,i,n,l){super(i),this.__src=e,this.__altText=t,this.__width=r,this.__height=s,this.__type=a,this.__initialWidth=n??r,this.__initialHeight=l??s}exportJSON(){return{type:this.__type,src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,initialWidth:this.__initialWidth,initialHeight:this.__initialHeight,version:0}}exportDOM(e){let t=this.createDOM(void 0);return t.innerHTML=(0,ei.renderToStaticMarkup)(this.decorate(e,void 0)),{element:t}}createDOM(e){return document.createElement("span")}updateDOM(){return!1}}var el=a(65627);function eo({replaceNode:e,xPos:t,yPos:a,setWidth:r,setHeight:s,XYRatio:n,parentRect:l}){let o;let c="none"===t?0:"left"===t?-1:1,d="none"===a?0:"top"===a?-1:1,u=w().useRef(!1),m=e=>{if(!u.current)return;let i={x:e.movementX/Math.sqrt(e.movementX**2+e.movementY**2),y:e.movementY/Math.sqrt(e.movementX**2+e.movementY**2)},l={x:"left"===t?1:-1,y:"top"===a?1:-1},o=Math.acos((i.x*l.x+i.y*l.y)/(Math.sqrt(i.x**2+i.y**2)*Math.sqrt(l.x**2+l.y**2)))%(2*Math.PI);console.log(o,i,l);let m=(o>Math.PI/2?1:-1)*Math.sqrt(e.movementX**2+e.movementY**2)/2,p=1*n*("none"!==t&&"none"!==a?m:e.movementX*c),h=1*("none"!==a&&"none"!==t?m:e.movementY*d);r(e=>e+p),s(e=>e+h)};switch(t+" "+a){case"left top":case"right bottom":o="cursor-nwse-resize";break;case"right top":case"left bottom":o="cursor-nesw-resize";break;case"left none":case"right none":o="cursor-ew-resize";break;case"none top":case"none bottom":o="cursor-ns-resize"}let p=l.left+("left"===t?0:"right"==t?1:.5)*l.width-4,h=l.top+("top"===a?0:"bottom"==a?1:.5)*l.height-4;return i.jsx(k.Z,{onMouseDown:t=>{t.preventDefault(),u.current=!0,window.addEventListener("mousemove",m),window.addEventListener("mouseup",function t(){u.current=!1,e(),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",t)})},className:`absolute w-2 h-2 bg-gray-400 border-[1px] border-black ${o}`,style:{left:p,top:h}})}function ec(e){let[t,a]=(0,f.useState)("number"==typeof e.width?e.width:void 0),[r,s]=(0,f.useState)("number"==typeof e.height?e.height:void 0),[n,l]=(0,f.useState)(null),[o,c]=(0,f.useState)(!1),d=w().useRef(null),u=null;try{[u]=(0,h.g)()}catch(e){}let m=(0,f.useRef)(t),p=(0,f.useRef)(r);(0,el.Z)();let g=["left","right","none"].flatMap(e=>["top","bottom","none"].map(t=>[e,t])).filter(([e,t])=>"none"!==e||"none"!==t);return(0,i.jsxs)(k.Z,{ref:d,className:"w-fit h-fit",onResize:function(){d.current&&l(new DOMRect(d.current.offsetLeft,d.current.offsetTop,d.current.offsetWidth,d.current.offsetHeight))},onClick:e=>{e.stopPropagation(),c(!0);let t=()=>{c(!1),window.removeEventListener("click",t)};d.current?.addEventListener("click",t)},children:[i.jsx("img",{onLoad:e=>{void 0===t&&a(e.currentTarget.width),void 0===r&&s(e.currentTarget.height)},className:"inline",style:{height:r+"px"},src:e.src,alt:e.alt,width:t,height:r}),n&&t&&r&&o&&u?.isEditable()&&g.map(([l,o])=>i.jsx(eo,{replaceNode:()=>{u.update(()=>{let t=null;for(let a of u.getEditorState()._nodeMap.values())a instanceof ed&&a.__key===e.key1&&(t=a);t.replace(function({src:e,altText:t,width:a,height:r}){return new ed(e,t,a,r)}({src:t.__src,altText:t.__altText,width:m.current,height:p.current}))})},xPos:l,yPos:o,setWidth:a,setHeight:s,XYRatio:t/r,parentRect:n},`${l}-${o}`))]})}class ed extends en{constructor(e,t,a,r,s,i,n){super(e,t,ed.getType(),a,r,s,i,n)}static getType(){return"image-node"}static clone(e){return new ed(e.__src,e.__altText,e.__width,e.__height,e.getKey())}static importJSON(e){return new ed(e.src,e.altText,e.width,e.height,void 0,e.initialWidth,e.initialHeight)}exportJSON(){return super.exportJSON()}decorate(){return i.jsx(ec,{key1:this.getKey(),src:this.__src,alt:this.__altText,width:this.__width,height:this.__height})}}let eu=(0,g.fA)("INSERT_IMAGE_COMMAND");function em(){let[e]=(0,h.g)();return null}var ep=a(55156),eh=a(22359),eg=a(21418),ex=a(53913),ef=a(50295),ew=a(60929);function ev({styleProp:e}){let t=(0,b.useTranslations)("editor.textFormating"),[a]=(0,h.g)(),[r,s]=w().useState([]),n=e.replace(/-([a-z])/g,e=>e[1].toUpperCase()),l=eN(e=>e[n]),[o,c]=(0,f.useState)(l.toUpperCase()),d=t=>{c(t),a.update(()=>{let a=(0,g.dL)();(0,g.OP)(a)&&(0,x.yD)(a,{[e]:t})})},u=new Map(Object.entries({primary:C.ZP.palette.primary.main,secondary:C.ZP.palette.secondary.main,ternary:C.ZP.palette.info.main,"dark gray":C.ZP.palette.gray.darkest,"darker gray":C.ZP.palette.gray.darker,gray:C.ZP.palette.gray.default,"light gray":C.ZP.palette.gray.light}));return(0,i.jsxs)(eh.Z,{elevation:0,sx:{"& .MuiCollapse-root":{position:"absolute",backgroundColor:"white"},"& .Mui-expanded":{minHeight:"0 !important"},"::before":{display:"none"}},className:"!m-0 h-full",children:[i.jsx(eg.Z,{sx:{"& > .Mui-expanded":{margin:"0 !important"},"& > .MuiAccordionSummary-content":{margin:0,flexGrow:0,flexShrink:2,flexDirection:"column"},"::after":{content:"''",borderBottom:"1px solid black",width:"100%",alignSelf:"end"}},className:"min-h-0 h-full flex flex-col items-center justify-center gap-1 !px-0 mx-4",children:(0,i.jsxs)(ex.Z,{className:"w-fit !cursor-pointer",children:[i.jsx(V.Z,{shrink:!0,required:!0,htmlFor:"textcolor",children:t(e)}),i.jsx(K.Z,{sx:{".MuiInputBase-root > *":{cursor:"pointer",backgroundColor:o,backgroundClip:"content-box",padding:0,margin:"16.5px 14px 0 14px"}},name:"textcolor",className:"w-40"})]})}),i.jsx(ef.Z,{className:"w-fit h-fit",children:(0,i.jsxs)(m.Z,{direction:"row",className:"w-fit gap-2",children:[i.jsx(ew.AI,{color:o,styles:{default:{picker:{boxShadow:"0"}}},onChange:e=>d(e.hex),onChangeComplete:e=>{s([e.hex,...r].slice(0,7)),d(e.hex)}}),i.jsx(m.Z,{className:"gap-1",children:Array.from(u.entries()).map(([e,t])=>i.jsx(k.Z,{className:"w-4 h-4 bg-black rounded-full border-[1px] cursor-pointer",style:{backgroundColor:t},onClick:()=>d(t)},e))}),i.jsx(m.Z,{className:"gap-1 min-w-4",children:r.map(e=>i.jsx(k.Z,{className:"w-4 h-4 bg-black rounded-full border-[1px] cursor-pointer",style:{backgroundColor:e},onClick:()=>d(e)},e))})]})})]})}var ey=a(25e3),e_=a(20822);(s||(s={})).IMAGE="image";let eb=e=>{let t=eN(e=>e),[a,s]=w().useState(null);return[{title:"presets",tools:[{__type__:"custom",supplier:()=>{let e=e0(e=>e.removeClass);return i.jsx(m.Z,{direction:"row",className:"gap-4 overflow-x-scroll",onMouseLeave:()=>{e("invisible-selection")},children:Object.keys(r).map(e=>i.jsx(E,{level:e},e))})}}]},{title:"textFormating",tools:[{__type__:"default",title:"textFormating.bold",icon:i.jsx(L.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(g.Ew,"bold")},active:t.isBold},{__type__:"default",title:"textFormating.italic",icon:i.jsx(F.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(g.Ew,"italic")},active:t.isItalic},{__type__:"default",title:"textFormating.underline",icon:i.jsx(D.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(g.Ew,"underline")},active:t.isUnderline},{__type__:"default",title:"textFormating.strikethrough",icon:i.jsx(R.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(g.Ew,"strikethrough")},active:t.isStrikethrough},{__type__:"default",title:"textFormating.quote",icon:i.jsx(z.Z,{fontSize:"small"}),onClick:()=>{e.update(()=>{let e=(0,g.dL)();if((0,g.OP)(e)){let t=e.getNodes().map(e=>e.getParent()).filter(e=>(0,g.Rl)(e)||(0,ey.Xp)(e)),a=t.every(e=>{do if((0,ep.O)(e))return!0;while(e=e.getParent());return!1}),r=new Set(t);a?r.forEach(e=>{let t=e;for(;t&&!(0,ep.O)(t);)t=t.getParent();if((0,ep.O)(t)){let e=t.getFirstChild();t.insertBefore(e),t.remove()}}):r.forEach(e=>{(0,e_.JB)(e,ep.Z1)})}})},active:!0,disablePreview:!0},{__type__:"default",title:"textFormating.alignLeft",icon:i.jsx(I.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.RO,"left"),undoOnEmptySelection:!0,disablePreview:!0},{__type__:"default",title:"textFormating.alignCenter",icon:i.jsx($.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.RO,"center"),undoOnEmptySelection:!0,disablePreview:!0},{__type__:"default",title:"textFormating.alignRight",icon:i.jsx(B.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.RO,"right"),undoOnEmptySelection:!0,disablePreview:!0},{__type__:"default",title:"textFormating.alignJustify",icon:i.jsx(U.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.RO,"justify"),undoOnEmptySelection:!0,disablePreview:!0},{__type__:"default",title:"textFormating.undo",icon:i.jsx(H.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.$l,void 0),onMouseLeave:()=>e.dispatchCommand(g.zq,void 0),disabled:!t.canUndo},{__type__:"default",title:"textFormating.redo",icon:i.jsx(A.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.zq,void 0),onMouseLeave:()=>e.dispatchCommand(g.$l,void 0),disabled:!t.canRedo},{__type__:"custom",supplier:()=>{let e=eN(e=>e.lineHeight);return i.jsx(Y,{label:"textFormating.lineHeight",cssProperty:"line-height",autocompleteProps:{options:["1","1.15","1.5","2","2.5","3"],freeSolo:!0,defaultValue:(+e.toFixed(2)).toString()},performOnSelection:(e,t)=>{for(let a of new Set(e.getNodes().map(e=>e.getParent()).filter(e=>(0,g.Rl)(e)||(0,ey.Xp)(e))))a.getChildren().forEach(e=>{(0,g.Gg)(e)&&(e.setStyle(e.getStyle().replaceAll(/line-height:\s*[\d.]+\s*%?;?/g,"")),e.setStyle(e.getStyle()+`line-height: ${100*parseFloat(t)}%;`))})},undoOnEmptySelection:!0,inputType:"number"})}},{__type__:"custom",supplier:()=>{let e=eN(e=>e.font);return i.jsx(Y,{label:"textFormating.fontFamily",autocompleteProps:{options:G,defaultValue:e},cssProperty:"font-family",inputType:"text"})}},{__type__:"custom",supplier:()=>{let t=eN(e=>e.fontSize);return i.jsx(Y,{label:"textFormating.fontSize",cssProperty:"font-size",autocompleteProps:{options:["1","2","4","6","8","10","12","14","16","18","20","24","28","32","36","40","48","56","64","72"],freeSolo:!0,defaultValue:t.toString()},afterUpdate:()=>{(function(e){e.update(()=>{let e=(0,g.dL)();(0,g.OP)(e)&&(0,x.yD)(e,{"--level":null})})})(e)},valuePreprocessor:e=>e+"px",inputType:"number"})}},{__type__:"custom",supplier:()=>i.jsx(ev,{styleProp:"color"})},{__type__:"custom",supplier:()=>i.jsx(ev,{styleProp:"background-color"})}]},{title:"multimedia",tools:[{__type__:"default",title:"multimedia.image",icon:i.jsx(q.Z,{fontSize:"small"}),onClick:()=>{s("image")},undoOnEmptySelection:!0,disablePreview:!0,appendAfter:()=>i.jsx(S.Z,{open:"image"===a,onClick:()=>s(null),children:i.jsx(k.Z,{onClick:e=>e.stopPropagation(),className:"w-1/2 h-1/2 bg-white rounded-2xl border-black border-2",children:i.jsx(es,{onPictureUpload:t=>{e.dispatchCommand(eu,{src:t,altText:"Image"}),s(null)},resetOnUpload:!0})})})}]}]};var ej=a(357);let eS=(0,y.Ue)((e,t)=>({editor:null,setEditor:t=>{e(e=>(e.editor=t,e))},canUndo:!1,canRedo:!1,awaitEvictHolder:{value:!1},setCanUndo:t=>{e(e=>(e.canUndo=t,e))},setCanRedo:t=>{e(e=>(e.canRedo=t,e))},setAwaitEvict:t=>{e(e=>(e.awaitEvictHolder.value=t,e))}}));function ek(){(0,h.g)()[0],(0,ej.l)();let{setCanUndo:e,setCanRedo:t,awaitEvictHolder:a,setAwaitEvict:r,setEditor:s}=eS(e=>({setCanUndo:e.setCanUndo,setCanRedo:e.setCanRedo,awaitEvictHolder:e.awaitEvictHolder,setAwaitEvict:e.setAwaitEvict,setEditor:e.setEditor}));return null}var eC=a(61402);let eZ=({supplier:e})=>e(),eN=(0,y.Ue)((e,t)=>({canUndo:!1,canRedo:!1,isBold:!1,isItalic:!1,isUnderline:!1,isStrikethrough:!1,font:"IBM Plex Mono",fontSize:16,lineHeight:1.5,color:"#000000",backgroundColor:"#FFFFFF",sharedSelectionBackgroundTimeout:null,setSharedSelectionBackgroundTimeout:a=>{t().clearSelectionBackgroundTimeout(),e({sharedSelectionBackgroundTimeout:a})},clearSelectionBackgroundTimeout:()=>{null!==t().sharedSelectionBackgroundTimeout&&(clearTimeout(t().sharedSelectionBackgroundTimeout),e({sharedSelectionBackgroundTimeout:null}))},setState:t=>e(t)}));function eP(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function eT(e){let t=parseInt(e.split(",")[0].split("(")[1]),a=parseInt(e.split(",")[1]),r=parseInt(e.split(",")[2].split(")")[0]);return"#"+eP(t)+eP(a)+eP(r)}function eM(e,t){let a=null;for(let r of e.getNodes())if((0,g.Gg)(r)){let e=RegExp(`${t}:([^;]+);`).exec(r.getStyle());if(e){let t=e[1].trim();if(/rgb\((\s*\d+){3}\)/.test(a)&&(t=eT(t)),a&&t!==a)return null;a=t}else{if(!(0,ey.Xp)(r.getParent()))return null;e:for(let e of document.styleSheets)for(let r of e.cssRules)if(r.cssText.includes(".styled-autolink > *")){let e=r.cssText,s=RegExp(`${t}:([^;]+);`).exec(e);if(s){let e=s[1].trim();if(/rgb\((\s*\d+){3}\)/.test(a)&&(e=eT(e)),a&&e!==a)return null;a=e}break e}}}return a}function eO(){let[e]=(0,h.g)(),[t,a]=(0,f.useState)(!1),[r,s]=(0,f.useState)(!1),[n,l]=(0,f.useState)(!1),[o,c]=(0,f.useState)(!1),[p,x]=(0,f.useState)("IBM Plex Mono"),[w,y]=(0,f.useState)(16),[_,S]=(0,f.useState)(1.5),[k,C]=(0,f.useState)("black"),[Z,N]=(0,f.useState)("white"),[P,T]=(0,f.useState)(0);eN(e=>e.setState);let{canUndo:M,canRedo:O}=eS(e=>({canUndo:e.canUndo,canRedo:e.canRedo}));(0,f.useCallback)(()=>{let e=(0,g.dL)();if((0,g.OP)(e)){a(e.hasFormat("bold")),s(e.hasFormat("italic")),l(e.hasFormat("underline")),c(e.hasFormat("strikethrough")),x(eM(e,"font-family")??"IBM Plex Mono");let t=eM(e,"font-size");t?y(parseInt(t)):y(16);let r=eM(e,"line-height");r?S(parseFloat(r)/100):S(1.5),C(eM(e,"color")??"#000000"),N(eM(e,"background-color")??"#FFFFFF")}},[]);let E=eb(e),L=e0(e=>e.removeClass),F=(0,b.useTranslations)("editor");return(0,i.jsxs)(m.Z,{direction:"row",className:"w-full",children:[(0,i.jsxs)(m.Z,{className:"w-full gap-4",children:[i.jsx(d.Z,{value:P,onChange:(e,t)=>{T(t)},children:E.map((e,t)=>i.jsx(u.Z,{label:F(e.title+".title"),id:`tab-${t}`,"aria-controls":`tabcontrol-${t}`},t))}),(0,i.jsxs)(m.Z,{direction:"row",spacing:1,"aria-labelledby":`tab-${P}`,id:`tabcontrol-${P}`,className:"w-full h-[15dvh] items-center overflow-x-scroll",sx:{"& > *":{flex:"0 0 auto"}},onMouseLeave:()=>L("invisible-selection"),children:[" ",E[P].tools.map((e,t)=>"custom"===e.__type__?i.jsx(eZ,{supplier:e.supplier},t):i.jsx(j,{...e},t))]})]}),i.jsx(v.Z,{onClick:()=>e.dispatchCommand(g.BM,void 0),className:"self-end",children:i.jsx(eC.Z,{})})]})}function eE(e,t,a,r=!1){let s=!0,i=eS.getState().setAwaitEvict;r||e.update(()=>{let e=(0,g.dL)();((e?.getTextContent().length===0)??!0)&&(s=!1)}),!t&&s&&(e.dispatchCommand(g.$l,void 0),i(!0),e.dispatchCommand(g.zq,void 0)),a(!1)}class eL extends ep.rT{static getType(){return"styled-quote"}constructor(e){super(e)}createDOM(e){let t=super.createDOM(e);return t.classList.add("quote","quote-border"),t}updateDOM(e,t){return(t.style.border||t.style.borderLeft||t.firstElementChild?.hasAttribute("style")&&t.firstElementChild.style.borderLeft||t.firstElementChild.style.border)&&t.classList.remove("quote-border"),super.updateDOM(e,t)}exportJSON(){return{...super.exportJSON(),type:eL.getType()}}static importJSON(e){let t=eF();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static clone(e){let t=(0,ep.Z1)();return t.setIndent(e.getIndent()),t.__format=e.getFormat(),t.setDirection(e.getDirection()),t.getChildren().push(...e.getChildren()),t}}function eF(){return new eL}var eD=a(21820),eR=a(6652),ez=a(59494),eI=a(37743),e$=a(34272);function eB({localizations:e,stateKeys:t,id:a}){let r=(0,eI.tv)();return i.jsx(Z.Z,{className:"w-1/5 text-black hover:text-white",variant:"contained",onClick:async()=>{let s=[];for(let t of e$.k1)if(e.get(t).content){let a=e.get(t);s.push({language:t.toUpperCase(),preview:a.preview,content:a.content,gallery:a.gallery.filter(e=>null!==e)})}let i=a?await (0,ez.r$)("/publications/"+a,{localizations:s}):await (0,ez.v_)("/publications?type=NEWS",{localizations:s});if(!i.ok){console.error(i.status+" "+await i.text());return}for(let e of t)localStorage.removeItem("editorState-preview-title-"+e),localStorage.removeItem("editorState-preview-image-"+e),localStorage.removeItem("editorState-"+e);let n=(await i.json()).id;r.push("/news/"+n)},children:i.jsx(N.Z,{children:"Save"})})}var eU=a(30081);function eH({key1:e,setEditorContent:t,restoreOnFirstRender:a}){let[r]=(0,h.g)();return i.jsx(eU.$,{onChange:a=>{localStorage.setItem(`editorState-${e}`,JSON.stringify(a)),t(JSON.stringify(a))}})}var eA=a(7079);function eq({key1:e,setPreview:t,initialState:a}){let[r,s]=w().useState(a.title??""),[n,l]=w().useState(a.image??null);return(0,i.jsxs)(eA.Z,{onSubmit:async e=>{e.preventDefault()},formProps:{className:"items-center gap-4 !w-[16.65dvw]"},children:[i.jsx(N.Z,{variant:"h1",children:"Preview"}),i.jsx(es,{className:"!h-[25dvh] border-[1px] border-black",onPictureUpload:e=>l(e),initialPicture:n}),i.jsx(K.Z,{value:r,label:"Title",variant:"standard",className:"w-full",name:"title",required:!0,style:{...C.ZP.typography.h4},onChange:e=>s(e.target.value)})]})}var eJ=a(62045),eW=a(3423),eK=a(99797);function eX({images:e,setImages:t}){return(0,i.jsxs)(m.Z,{className:"gap-6 items-center",children:[i.jsx(N.Z,{variant:"h1",children:"Gallery"}),(0,i.jsxs)(m.Z,{direction:"row",className:"gap-6 flex-wrap items-center",children:[e.map((a,r)=>i.jsx(eY,{removeThis:()=>t(e.toSpliced(r,1)),image:a,setImage:a=>t(e.toSpliced(r,1,a))},r)),i.jsx(v.Z,{onClick:()=>t(e=>[...e,null]),className:"h-fit",children:i.jsx(eW.Z,{fontSize:"large"})})]})]})}function eY({image:e,removeThis:t,setImage:a}){return(0,i.jsxs)(m.Z,{direction:"row",className:"relative flex-shrink-0",children:[i.jsx(v.Z,{className:"!absolute top-0 left-0 h-fit shadow-2xl   -translate-x-1/2 -translate-y-1/2 !bg-white hover:scale-110 hover:!bg-red-400 !border-[1px] !border-black",onClick:t,children:i.jsx(eK.Z,{})}),i.jsx(es,{initialPicture:e,onPictureUpload:a,className:"h-[15dvw] w-[15dvw]"})]})}var eG=a(67037);let eV={text:{italic:"italic",underline:"underline",strikethrough:"line-through",underlineStrikethrough:"underline-strike"},link:"styled-autolink",nodes:[P,ey.qp,ed,ep.rT,eL,{replace:g.R2,with:e=>{let t=new P(e.getTextContent());return t.__parent=e.__parent,t},withKlass:P},{replace:ep.rT,with:e=>{let t=eF();return t.__parent=e.__parent,t},withKlass:eL}]},eQ=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&\/=]*)/,e0=(0,y.Ue)((e,t)=>({className:"",addClass:a=>{t().className.includes(a)||e(e=>({className:e.className+" "+a}))},removeClass:t=>e(e=>({className:e.className.replace(t,"")}))})),e1={namespace:"MyEditor",theme:eV,onError:function(e){console.error(e)},nodes:[ep.c2,ep.rT,P,ey.qp,ed,eL,{replace:g.R2,with:e=>new P(e.getTextContent()),withKlass:P},{replace:ep.rT,with:()=>eF(),withKlass:eL}]};function e2({initialState:e,id:t}){let a=e0(e=>e.className),[r,s]=w().useState(0),[p,h]=w().useState(new Map(e$.k1.map(t=>[t,e?.get(t)?.gallery??(localStorage.getItem(`gallery-${t}`)?JSON.parse(localStorage.getItem(`gallery-${t}`)):[])]))),[g,x]=w().useState(new Map(e$.k1.map(t=>[t,{preview:{title:e?.get(t)?.preview.title??"",image:e?.get(t)?.preview.image??""},gallery:p.get(t),content:e?.get(t)?.content??""}])));return(0,i.jsxs)(i.Fragment,{children:[i.jsx(d.Z,{onChange:(e,t)=>s(t),value:r,children:e$.k1.map(e=>i.jsx(u.Z,{label:e,"aria-controls":`tab-${e}`,id:`tab-${e}`},e))}),e$.k1.map(s=>s===e$.k1[r]&&i.jsx(m.Z,{className:"gap-6 items-center my-10",role:"tabpanel","aria-labelledby":`tab-${s}`,id:`tab-${s}`,children:(0,i.jsxs)(n.R,{initialConfig:{...e1,editorState:e?.get(s)?.content},children:[i.jsx(ek,{}),i.jsx(eH,{key1:s,setEditorContent:e=>{g.get(s).content=e},restoreOnFirstRender:e?.get(s)?.content===void 0}),i.jsx(em,{}),i.jsx(eR.y,{}),i.jsx(eD.$,{matchers:[(0,eD.v)(eQ,e=>e.startsWith("www.")?"https://"+e:e)]}),i.jsx(eO,{}),i.jsx(eJ.Z,{}),i.jsx(l.B,{contentEditable:i.jsx(o.f,{contentEditable:!0,className:"w-full h-fit min-h-dvh border-[1px] border-black p-4 quote-container "+a,style:{...C.ZP.typography.body1}}),placeholder:i.jsx(i.Fragment,{}),ErrorBoundary:c.g}),i.jsx(eX,{images:p.get(s),setImages:e=>{h(t=>{e instanceof Array?t.set(s,e):t.set(s,e(t.get(s)));try{localStorage.setItem(`gallery-${s}`,JSON.stringify(t.get(s)))}catch(e){console.log(e)}return new Map(t)})}}),i.jsx(eq,{key1:s.toString(),setPreview:e=>{g.get(s).preview=e},initialState:{title:e?.get(s)?.preview.title,image:e?.get(s)?.preview.image}}),i.jsx(eB,{localizations:g,id:t,stateKeys:e$.k1.map((e,t)=>t.toString())})]})},s))]})}function e5(){let[e]=(0,h.g)(),t=(0,eG.C)(e),[a,r]=w().useState(t);return!a&&i.jsx(m.Z,{className:"gap-6",children:Array.from({length:10}).map((e,t)=>(0,i.jsxs)(w().Fragment,{children:[i.jsx(p.Z,{variant:"text",width:"100%"}),i.jsx(p.Z,{variant:"text",width:"100%"}),i.jsx(p.Z,{variant:"text",width:"100%"}),i.jsx(p.Z,{variant:"text",width:`${Math.round(100*Math.random())}%`})]},t))})}function e4({editorStateJson:e}){let t={...e1,editorState:e,editable:!1};return(0,i.jsxs)(n.R,{initialConfig:t,children:[i.jsx(l.B,{contentEditable:i.jsx(o.f,{contentEditable:!1,className:"w-full h-fit quote-container flex flex-col",style:{...C.ZP.typography.body1}}),placeholder:i.jsx(i.Fragment,{}),ErrorBoundary:c.g}),i.jsx(e5,{})]})}},72542:(e,t,a)=>{"use strict";a.d(t,{K3:()=>o,ZP:()=>l});var r=a(68570);let s=(0,r.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\news\editor\editor.tsx`),{__esModule:i,$$typeof:n}=s;s.default,(0,r.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\news\editor\editor.tsx#COMMAND_PRIORITY`),(0,r.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\news\editor\editor.tsx#useEditorClasses`);let l=(0,r.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\news\editor\editor.tsx#default`),o=(0,r.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\news\editor\editor.tsx#ReadOnlyEditor`)},46713:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var r=a(19510),s=a(87094),i=a.n(s),n=a(94787),l=a(68570);let o=(0,l.createProxy)(String.raw`C:\ksu\front\app\_util\components\language-toggle.tsx`),{__esModule:c,$$typeof:d}=o;o.default;let u=(0,l.createProxy)(String.raw`C:\ksu\front\app\_util\components\language-toggle.tsx#default`);var m=a(91077),p=a(72056);function h({className:e=""}){return r.jsx(p.Z,{direction:"right",offset:20,duration:500,children:r.jsx("img",{src:"/images/commons/digiuni.svg",alt:"DigiUni",className:e+` w-[15dvw]
                max-xs:!w-[44dvw]
                max-md:!w-[26dvw]
                max-lg:w-[23dvw]
                xl:w-[13dvw]
                3xl:w-[9dvw]
            `})})}async function g({className:e="",logoClassname:t="",disableImage:a=!1}){return r.jsx(i(),{className:`!hidden absolute top-0 left-0 w-full h-fit pt-[3.5dvw] pb-[3.5dvw] px-[4.5dvw]
            max-lg:pt-[1dvw]
            md:!block 
            xl:py-[3dvw]
            2xl:py-[2.5dvw]
            3xl:px-[4dvw] 3xl:pt-[2.5dvw] 3xl:pb-[2dvw]
            ${e}`,component:"header",children:(0,r.jsxs)(n.ZP,{className:"justify-between items-start w-full h-full max-lg:mt-[4dvw]",direction:"row",children:[!a&&r.jsx(h,{className:t}),(0,r.jsxs)(n.ZP,{direction:"row",className:"justify-end items-start w-fit h-full gap-[6dvw]   xl:gap-[4dvw]   3xl:gap-[3dvw]",children:[r.jsx(u,{}),r.jsx(m.ZP,{fontSize:16})]})]})})}},72612:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(19510);a(71159);var s=a(11160),i=a(46713),n=a(17718),l=a(87094),o=a.n(l),c=a(90855);async function d({children:e,params:t}){return(0,s.k)(t.locale),(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{}),e,r.jsx(n.Z,{tiles:r.jsx(o(),{className:"w-full",children:r.jsx(c.u7,{})})})]})}},17718:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var r=a(19510),s=a(85062),i=a(94787),n=a(22112),l=a.n(n),o=a(53843),c=a(91077);a(71159);var d=a(21446);async function u({tiles:e}){let t=await (0,o.Z)("misc");return(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsxs)(s.O,{component:"footer",className:"bg-themed-darkgray h-fit w-full justify-between   max-xs:!pt-[20dvw] max-xs:!pb-[4dvw]   xl:!pt-[10dvw]   3xl:!pt-[5dvw]   ",sx:{paddingTop:"8dvw",[`@media (max-width: ${d.lg})`]:{paddingTop:"12dvw"},[`@media (max-width: ${d.md})`]:{paddingTop:"14dvw"},[`@media (max-width: ${d.xs})`]:{paddIngTop:"20dvw"}},disableGap:!0,children:[(0,r.jsxs)(i.ZP,{direction:"row",className:"min-h-fit justify-between items-start xs:items-center",children:[(0,r.jsxs)(i.ZP,{className:"gap-[2dvw]   3xl:gap-[1.5dvw]   ",children:[r.jsx("img",{src:"/images/header/digiuni-bw.svg",alt:"digiuni-bw",className:"max-w-full hidden xs:block"}),r.jsx(l(),{variant:"body1",className:"text-themed-gray w-fit !tracking-[-0.02rem]",fontSize:"16px",children:t("slogan")})]}),r.jsx(c.ZP,{fontWeight:400,className:"text-white !tracking-[-0.03rem]",fontSize:16,showCurrent:!1,linkContainerClassname:"!justify-end",tight:!0,containerClassName:"gap-[1.2rem]"})]}),r.jsx("img",{src:"/images/footer/digiuni-dark-purple.svg",alt:"Digiuni Logo",className:"max-w-[84dvw] mt-[8dvw] mb-[4dvw]   max-xs:!mb-[8dvw] max-xs:!mt-[12dvw]   max-md:mb-[6dvw] max-md:mt-[10dvw]   max-lg:max-w-[90dvw]   xl:max-w-[80dvw] xl:mt-[7dvw] xl:mb-[3dvw]   2xl:max-w-[82dvw]   3xl:mt-[5dvw] 3xl:mb-[2dvw]   "}),r.jsx(l(),{variant:"body2",className:"w-full min-h-fit text-themed-darker-gray py-[3dvw]   max-xs:!text-[12px]   xl:pb-[5dvw]   3xl:py-[2dvw]   ",letterSpacing:"normal",fontSize:14,children:t("copyright")})]})]})}},72056:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var r=a(19510),s=a(87094),i=a.n(s),n=a(74174);function l({direction:e,children:t,className:a="",loaded:s=!0,offset:l=30,duration:o=600,delay:c=0,grow:d=!1,fadeDuration:u,fadeDelay:m}){return(0,r.jsxs)(r.Fragment,{children:[s&&r.jsx(i(),{className:{left:"animate-slide-left",right:"animate-slide-right",up:"animate-slide-up",down:"animate-slide-down"}[e]+` translate-${l} `+a,style:{animationDuration:`${o}ms`,animationDelay:`${c}ms`},children:r.jsx(i(),{className:"w-full h-full "+(d?"animate-grow":""),children:r.jsx(n.ZP,{in:!0,timeout:u??o,easing:"ease-out",style:{transitionDelay:`${m??c}ms`},children:t})})}),!s&&r.jsx(i(),{className:a+" invisible",children:t})]})}a(71159)},91077:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>l});var r=a(68570);let s=(0,r.createProxy)(String.raw`C:\ksu\front\app\_util\components\nav.tsx`),{__esModule:i,$$typeof:n}=s;s.default;let l=(0,r.createProxy)(String.raw`C:\ksu\front\app\_util\components\nav.tsx#default`)},90855:(e,t,a)=>{"use strict";a.d(t,{CT:()=>i,u7:()=>n,zG:()=>s});var r=a(19510);function s({className:e=""}){return(0,r.jsxs)(r.Fragment,{children:[r.jsx("img",{src:"/images/commons/secondary-tiles.png",alt:"Secondary tiles",className:e+" w-full hidden xs:block"}),r.jsx("img",{src:"/images/commons/secondary-tiles-xs.jpg",alt:"Secondary tiles",className:e+" w-full xs:hidden"})]})}function i(){return(0,r.jsxs)(r.Fragment,{children:[r.jsx("img",{src:"/images/commons/info-tiles.png",alt:"Info tiles",className:"bg-info w-full hidden xs:block"}),r.jsx("img",{src:"/images/commons/info-tiles-xs.jpg",alt:"Info tiles",className:"bg-info w-full xs:hidden"})]})}function n({className:e=""}){return(0,r.jsxs)(r.Fragment,{children:[r.jsx("img",{src:"/images/commons/bw-tiles.png",alt:"Black and white tiles",className:e+" w-full hidden xs:block"}),r.jsx("img",{src:"/images/commons/bw-tiles-xs.jpg",alt:"Black and white tiles",className:e+" w-full xs:hidden"})]})}}};