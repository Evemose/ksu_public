"use strict";exports.id=284,exports.ids=[284],exports.modules={71846:(e,t,r)=>{r.d(t,{ReadOnlyEditor:()=>eX,default:()=>eW,T:()=>eA});var i,a,n=r(10326),s=r(22191),l=r(98066),o=r(78788),c=r(76057),u=r(23232),d=r(45112),p=r(15813),h=r(55976),m=r(42337),g=r(54511),f=r(17577),x=r.n(f),_=r(48260),y=r(60114),w=r(5305),v=r(23844);let S=({title:e,icon:t,appendAfter:r,disabled:i=!1,active:a=!1,onClick:s})=>{let l=(0,v.useTranslations)("editor");return(0,n.jsxs)(n.Fragment,{children:[n.jsx(w.Z,{title:l(e),placement:"top",arrow:!0,children:n.jsx(_.Z,{disabled:i,className:a?"active":"",onClick:s,children:t})}),r&&r()]})};var b=r(7783),j=r(62232),k=r(94622),C=r(3188),Z=r(87700),N=r(25609);class T extends g.R2{constructor(e,t,r=[]){super(e,t),this.__classList=[],this.__classList.push(...r)}get classList(){return this.__classList}set classList(e){this.__classList.splice(0,this.__classList.length,...e)}static getType(){return"custom-text"}static clone(e){return new T(e.getTextContent(),e.getKey(),e.__classList)}static importJSON(e){let t=super.importJSON(e);return t.__classList.push(...e._classList),t}setMediaClass(e){RegExp(`(${Object.values(i).map(e=>`(${e})`).join("|")})-media`).test(this.__classList[0])&&this.__classList.splice(0,1),e&&this.__classList.splice(0,0,`${e}-media`)}updateDOM(e,t,r){return t.classList.remove(...e.__classList),t.classList.add(...this.__classList),super.updateDOM(e,t,r)}createDOM(e,t){let r=super.createDOM(e,t);return r.classList.add(...this.__classList),r}isSimpleText(){return 0==this.__mode}exportJSON(){return{...super.exportJSON(),type:T.getType(),_classList:this.__classList}}exportDOM(e){let t=super.exportDOM(e);return t.element.classList.add(...this.__classList),t}}!function(e){e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.BODY1="body1",e.BODY2="body2",e.CAPTION="caption"}(i||(i={}));let M=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),O=(e,t)=>{for(let t of["font-weight","font-style","text-decoration","font-family","font-size","color","background-color"])(0,k.yD)(e,{[t]:null});for(let[r,i]of Object.entries(C.ZP.typography[t]))"string"!=typeof i&&("fontSize"===r||r.startsWith("@"))?"fontSize"===r&&(0,k.yD)(e,{[M(r)]:i.toString()+"px"}):(0,k.yD)(e,{[M(r)]:i.toString()});(0,k.yD)(e,{"--level":t})},P=e=>{switch(e){case"h1":return"Heading 1";case"h2":return"Heading 2";case"h3":return"Heading 3";case"h4":return"Heading 4";case"h5":return"Heading 5";case"h6":return"Heading 6";case"body1":return"Body 1";case"body2":return"Body 2";case"caption":return"Caption"}};function L({level:e}){let t=(0,m.g)()[0];return n.jsx(Z.Z,{className:"min-w-fit",onClick:function(){t.update(()=>{let t=(0,g.dL)();(0,g.OP)(t)&&O(t,i[e])}),t.update(()=>{let t=(0,g.dL)();(0,g.OP)(t)&&t.getNodes().forEach(t=>{t instanceof T&&t.setMediaClass(i[e])})})},children:n.jsx(N.Z,{variant:e.toLowerCase(),children:P(i[e])})})}var F=r(11833),E=r(66362),R=r(6062),z=r(42797),D=r(56966),I=r(75715),$=r(61973),B=r(95052),H=r(49040),q=r(45102),J=r(14212),A=r(69574),U=r(71026),W=r(15246),K=r(4153);function X({props:e,option:t,timeoutRef:r,close:i}){return n.jsx(U.ZP,{...e,onMouseEnter:()=>{r.current&&(clearTimeout(r.current),r.current=null)},onMouseLeave:()=>{r.current=setTimeout(()=>{i(),r.current=null},100)},children:n.jsx(N.Z,{noWrap:!0,variant:"body1",children:t})})}let Y=({label:e,cssProperty:t,autocompleteProps:r,validator:i,valuePreprocessor:a=e=>e,inputType:s="number",performOnSelection:l})=>{let o=(0,m.g)()[0],[c,u]=(0,f.useState)(r.defaultValue??""),d=(0,f.useRef)(null);(0,f.useEffect)(()=>{u(r.defaultValue??"")},[r.defaultValue]);let[p,h]=(0,f.useState)(!1),x=(0,v.useTranslations)("editor");return n.jsx(W.Z,{open:p,onMouseEnter:()=>{d.current&&(clearTimeout(d.current),d.current=null),h(!0)},onMouseLeave:()=>{d.current=setTimeout(()=>{h(!1),d.current=null},100)},className:"min-w-fit w-[10%]",...r,disableClearable:!0,value:c,onChange:(e,r)=>{r=r??"",(!i||i(r))&&(u(r),o.update(()=>{let e=(0,g.dL)();(0,g.OP)(e)&&(l?l(e,r):(0,k.yD)(e,{[t]:a(r)}),(0,k.yD)(e,{"--level":null}))}))},renderInput:t=>n.jsx(K.Z,{...t,label:x(e),variant:"outlined",required:!0,type:s,value:c,sx:{"& > .MuiInputBase-root":{paddingBottom:"calc(0.5rem + 0.4dvw - 6px) !important"}}}),renderOption:(e,t)=>n.jsx(X,{props:e,option:t,timeoutRef:d,close:()=>h(!1)},t)})},V=JSON.parse('["IBM Plex Mono","IBM Plex Serif","Inter","Times New Roman","Comic Sans","Arial"]');var G=r(12313),Q=r(52321),ee=r(38781);let et=e=>new Promise((t,r)=>{let i=new FileReader;i.readAsDataURL(e),i.onload=()=>{t(i.result)},i.onerror=r}),er=async(e,t)=>{for(let r of(e.preventDefault(),e.dataTransfer.files))r.type.startsWith("image")&&t(r)},ei=async(e,t)=>{e.currentTarget.files&&e.currentTarget.files[0]&&e.currentTarget.files[0].type.startsWith("image")&&t(e.currentTarget.files[0])},ea=({onPictureUpload:e=()=>{},resetOnUpload:t=!1,className:r="",initialPicture:i=null})=>{let[a,s]=x().useState(null),l=Math.floor(1e9*Math.random());function o(){return a?URL.createObjectURL(a):i||void 0}(0,f.useEffect)(()=>{a&&et(a).then(t=>{t&&e(t)}).then(()=>{t?s(null):s(a)})},[a]);let[c,u]=(0,f.useState)(o());return(0,f.useEffect)(()=>{u(o())},[a,i]),n.jsx(w.Z,{title:"Upload image",followCursor:!0,PopperProps:{modifiers:[{name:"offset",options:{offset:[50,0]}}]},children:(0,n.jsxs)(j.Z,{className:`${r} w-full h-full flex items-center justify-center border-black border-[1px]`,style:c?{backgroundImage:`url("${c}")`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{},children:[n.jsx(G.Z,{required:!0,htmlFor:`image-dropzone-${l}`,className:"p-2 flex items-center justify-center hover:cursor-pointer",onDrop:e=>er(e,s),onDragOver:e=>e.preventDefault(),children:(0,n.jsxs)(j.Z,{className:"flex flex-col gap-2 bg-white bg-opacity-85 justify-center items-center rounded-3xl w-full h-full",children:[n.jsx(ee.Z,{fontSize:"large"}),n.jsx(N.Z,{variant:"caption",className:"w-4/5 text-wrap text-center",children:"Drop your image here"})]})}),n.jsx(Q.Z,{required:!0,id:`image-dropzone-${l}`,value:null===a?"":void 0,type:"file",name:"image",className:"opacity-0 w-0",onChange:e=>ei(e,s)})]})})};var en=r(46127);class es extends g.Ij{constructor(e,t,r,i,a,n,s,l){super(n),this.__src=e,this.__altText=t,this.__width=i,this.__height=a,this.__type=r,this.__initialWidth=s??i,this.__initialHeight=l??a}exportJSON(){return{type:this.__type,src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,initialWidth:this.__initialWidth,initialHeight:this.__initialHeight,version:0}}exportDOM(e){let t=this.createDOM(void 0);return t.innerHTML=(0,en.renderToStaticMarkup)(this.decorate(e,void 0)),{element:t}}createDOM(e){return document.createElement("span")}updateDOM(){return!1}}var el=r(65627);function eo({replaceNode:e,xPos:t,yPos:r,setWidth:i,setHeight:a,XYRatio:s,parentRect:l}){let o;let c="none"===t?0:"left"===t?-1:1,u="none"===r?0:"top"===r?-1:1,d=x().useRef(!1),p=e=>{if(!d.current)return;let n={x:e.movementX/Math.sqrt(e.movementX**2+e.movementY**2),y:e.movementY/Math.sqrt(e.movementX**2+e.movementY**2)},l={x:"left"===t?1:-1,y:"top"===r?1:-1},o=Math.acos((n.x*l.x+n.y*l.y)/(Math.sqrt(n.x**2+n.y**2)*Math.sqrt(l.x**2+l.y**2)))%(2*Math.PI);console.log(o,n,l);let p=(o>Math.PI/2?1:-1)*Math.sqrt(e.movementX**2+e.movementY**2)/2,h=1*s*("none"!==t&&"none"!==r?p:e.movementX*c),m=1*("none"!==r&&"none"!==t?p:e.movementY*u);i(e=>e+h),a(e=>e+m)};switch(t+" "+r){case"left top":case"right bottom":o="cursor-nwse-resize";break;case"right top":case"left bottom":o="cursor-nesw-resize";break;case"left none":case"right none":o="cursor-ew-resize";break;case"none top":case"none bottom":o="cursor-ns-resize"}let h=l.left+("left"===t?0:"right"==t?1:.5)*l.width-4,m=l.top+("top"===r?0:"bottom"==r?1:.5)*l.height-4;return n.jsx(j.Z,{onMouseDown:t=>{t.preventDefault(),d.current=!0,window.addEventListener("mousemove",p),window.addEventListener("mouseup",function t(){d.current=!1,e(),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",t)})},className:`absolute w-2 h-2 bg-gray-400 border-[1px] border-black ${o}`,style:{left:h,top:m}})}function ec(e){let[t,r]=(0,f.useState)("number"==typeof e.width?e.width:void 0),[i,a]=(0,f.useState)("number"==typeof e.height?e.height:void 0),[s,l]=(0,f.useState)(null),[o,c]=(0,f.useState)(!1),u=x().useRef(null),d=null;try{[d]=(0,m.g)()}catch(e){}let p=(0,f.useRef)(t),h=(0,f.useRef)(i);(0,el.Z)();let g=["left","right","none"].flatMap(e=>["top","bottom","none"].map(t=>[e,t])).filter(([e,t])=>"none"!==e||"none"!==t);return(0,n.jsxs)(j.Z,{ref:u,className:"w-fit h-fit",onResize:function(){u.current&&l(new DOMRect(u.current.offsetLeft,u.current.offsetTop,u.current.offsetWidth,u.current.offsetHeight))},onClick:e=>{e.stopPropagation(),c(!0);let t=()=>{c(!1),window.removeEventListener("click",t)};u.current?.addEventListener("click",t)},children:[n.jsx("img",{onLoad:e=>{void 0===t&&r(e.currentTarget.width),void 0===i&&a(e.currentTarget.height)},className:"inline",style:{height:i+"px"},src:e.src,alt:e.alt,width:t,height:i}),s&&t&&i&&o&&d?.isEditable()&&g.map(([l,o])=>n.jsx(eo,{replaceNode:()=>{d.update(()=>{let t=null;for(let r of d.getEditorState()._nodeMap.values())r instanceof eu&&r.__key===e.key1&&(t=r);t.replace(function({src:e,altText:t,width:r,height:i}){return new eu(e,t,r,i)}({src:t.__src,altText:t.__altText,width:p.current,height:h.current}))})},xPos:l,yPos:o,setWidth:r,setHeight:a,XYRatio:t/i,parentRect:s},`${l}-${o}`))]})}class eu extends es{constructor(e,t,r,i,a,n,s){super(e,t,eu.getType(),r,i,a,n,s)}static getType(){return"image-node"}static clone(e){return new eu(e.__src,e.__altText,e.__width,e.__height,e.getKey())}static importJSON(e){return new eu(e.src,e.altText,e.width,e.height,void 0,e.initialWidth,e.initialHeight)}exportJSON(){return super.exportJSON()}decorate(){return n.jsx(ec,{key1:this.getKey(),src:this.__src,alt:this.__altText,width:this.__width,height:this.__height})}}let ed=(0,g.fA)("INSERT_IMAGE_COMMAND");function ep(){let[e]=(0,m.g)();return null}var eh=r(55156),em=r(25e3),eg=r(20822);(a||(a={})).IMAGE="image";let ef=e=>{let t=ey(e=>e),[r,a]=x().useState(null);return[{title:"presets",tools:[{__type__:"custom",supplier:()=>n.jsx(p.Z,{direction:"row",className:"gap-4",onMouseLeave:()=>{},children:Object.keys(i).map(e=>n.jsx(L,{level:e},e))})}]},{title:"textFormating",tools:[{__type__:"default",title:"textFormating.bold",icon:n.jsx(F.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(g.Ew,"bold")},active:t.isBold},{__type__:"default",title:"textFormating.italic",icon:n.jsx(E.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(g.Ew,"italic")},active:t.isItalic},{__type__:"default",title:"textFormating.underline",icon:n.jsx(R.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(g.Ew,"underline")},active:t.isUnderline},{__type__:"default",title:"textFormating.strikethrough",icon:n.jsx(z.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(g.Ew,"strikethrough")},active:t.isStrikethrough},{__type__:"default",title:"textFormating.quote",icon:n.jsx(D.Z,{fontSize:"small"}),onClick:()=>{e.update(()=>{let e=(0,g.dL)();if((0,g.OP)(e)){let t=e.getNodes().map(e=>e.getParent()).filter(e=>(0,g.Rl)(e)||(0,em.Xp)(e)),r=t.every(e=>{do if((0,eh.O)(e))return!0;while(e=e.getParent());return!1}),i=new Set(t);r?i.forEach(e=>{let t=e;for(;t&&!(0,eh.O)(t);)t=t.getParent();if((0,eh.O)(t)){let e=t.getFirstChild();t.insertBefore(e),t.remove()}}):i.forEach(e=>{(0,eg.JB)(e,eh.Z1)})}})},active:!0},{__type__:"default",title:"textFormating.alignLeft",icon:n.jsx(I.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.RO,"left")},{__type__:"default",title:"textFormating.alignCenter",icon:n.jsx($.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.RO,"center")},{__type__:"default",title:"textFormating.alignRight",icon:n.jsx(B.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.RO,"right")},{__type__:"default",title:"textFormating.alignJustify",icon:n.jsx(H.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.RO,"justify")},{__type__:"default",title:"textFormating.undo",icon:n.jsx(q.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.$l,void 0),disabled:!t.canUndo},{__type__:"default",title:"textFormating.redo",icon:n.jsx(J.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(g.zq,void 0),disabled:!t.canRedo},{__type__:"custom",supplier:()=>{let e=ey(e=>e.lineHeight);return n.jsx(Y,{label:"textFormating.lineHeight",cssProperty:"line-height",autocompleteProps:{options:["1","1.15","1.5","2","2.5","3"],freeSolo:!0,defaultValue:(+e.toFixed(2)).toString()},performOnSelection:(e,t)=>{for(let r of new Set(e.getNodes().map(e=>e.getParent()).filter(e=>(0,g.Rl)(e)||(0,em.Xp)(e))))r.getChildren().forEach(e=>{(0,g.Gg)(e)&&(e.setStyle(e.getStyle().replaceAll(/line-height:\s*[\d.]+\s*%?;?/g,"")),e.setStyle(e.getStyle()+`line-height: ${100*parseFloat(t)}%;`))})},inputType:"number"})}},{__type__:"custom",supplier:()=>{let e=ey(e=>e.font);return n.jsx(Y,{label:"textFormating.fontFamily",autocompleteProps:{options:V,defaultValue:e},cssProperty:"font-family",inputType:"text"})}},{__type__:"custom",supplier:()=>{let e=ey(e=>e.fontSize);return n.jsx(Y,{label:"textFormating.fontSize",cssProperty:"font-size",autocompleteProps:{options:["1","2","4","6","8","10","12","14","16","18","20","24","28","32","36","40","48","56","64","72"],freeSolo:!0,defaultValue:e.toString()},valuePreprocessor:e=>e+"px",inputType:"number"})}}]},{title:"multimedia",tools:[{__type__:"default",title:"multimedia.image",icon:n.jsx(A.Z,{fontSize:"small"}),onClick:()=>{a("image")},appendAfter:()=>n.jsx(b.Z,{open:"image"===r,onClick:()=>a(null),children:n.jsx(j.Z,{onClick:e=>e.stopPropagation(),className:"w-1/2 h-1/2 bg-white rounded-2xl border-black border-2",children:n.jsx(ea,{onPictureUpload:t=>{e.dispatchCommand(ed,{src:t,altText:"Image"}),a(null)},resetOnUpload:!0})})})}]}]};var ex=r(61402);let e_=({supplier:e})=>e(),ey=(0,y.Ue)((e,t)=>({canUndo:!1,canRedo:!1,isBold:!1,isItalic:!1,isUnderline:!1,isStrikethrough:!1,font:"IBM Plex Mono",fontSize:16,lineHeight:1.5,color:"#000000",backgroundColor:"#FFFFFF",sharedSelectionBackgroundTimeout:null,setSharedSelectionBackgroundTimeout:r=>{t().clearSelectionBackgroundTimeout(),e({sharedSelectionBackgroundTimeout:r})},clearSelectionBackgroundTimeout:()=>{null!==t().sharedSelectionBackgroundTimeout&&(clearTimeout(t().sharedSelectionBackgroundTimeout),e({sharedSelectionBackgroundTimeout:null}))},setState:t=>e(t)}));function ew(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function ev(e){let t=parseInt(e.split(",")[0].split("(")[1]),r=parseInt(e.split(",")[1]),i=parseInt(e.split(",")[2].split(")")[0]);return"#"+ew(t)+ew(r)+ew(i)}function eS(e,t){let r=null;for(let i of e.getNodes())if((0,g.Gg)(i)){let e=RegExp(`${t}:([^;]+);`).exec(i.getStyle());if(e){let t=e[1].trim();if(/rgb\((\s*\d+){3}\)/.test(r)&&(t=ev(t)),r&&t!==r)return null;r=t}else{if(!(0,em.Xp)(i.getParent()))return null;e:for(let e of document.styleSheets)for(let i of e.cssRules)if(i.cssText.includes(".styled-autolink > *")){let e=i.cssText,a=RegExp(`${t}:([^;]+);`).exec(e);if(a){let e=a[1].trim();if(/rgb\((\s*\d+){3}\)/.test(r)&&(e=ev(e)),r&&e!==r)return null;r=e}break e}}}return r}function eb(){let[e]=(0,m.g)(),[t,r]=(0,f.useState)(!1),[i,a]=(0,f.useState)(!1),[s,l]=(0,f.useState)(!1),[o,c]=(0,f.useState)(!1),[h,x]=(0,f.useState)("IBM Plex Mono"),[y,w]=(0,f.useState)(16),[b,j]=(0,f.useState)(1.5),[k,C]=(0,f.useState)("black"),[Z,N]=(0,f.useState)("white"),[T,M]=(0,f.useState)(0);ey(e=>e.setState),(0,f.useCallback)(()=>{let e=(0,g.dL)();if((0,g.OP)(e)){r(e.hasFormat("bold")),a(e.hasFormat("italic")),l(e.hasFormat("underline")),c(e.hasFormat("strikethrough")),x(eS(e,"font-family")??"IBM Plex Mono");let t=eS(e,"font-size");t?w(parseInt(t)):w(16);let i=eS(e,"line-height");i?j(parseFloat(i)/100):j(1.5),C(eS(e,"color")??"#000000"),N(eS(e,"background-color")??"#FFFFFF")}},[]);let O=ef(e),P=eA(e=>e.removeClass),L=(0,v.useTranslations)("editor");return(0,n.jsxs)(p.Z,{direction:"row",className:"w-full max-w-full justify-between",children:[(0,n.jsxs)(p.Z,{className:"gap-4 w-full",children:[n.jsx(u.Z,{value:T,onChange:(e,t)=>{M(t)},children:O.map((e,t)=>n.jsx(d.Z,{label:L(e.title+".title"),id:`tab-${t}`,"aria-controls":`tabcontrol-${t}`},t))}),(0,n.jsxs)(p.Z,{direction:"row",spacing:1,"aria-labelledby":`tab-${T}`,id:`tabcontrol-${T}`,className:"items-center w-full overflow-x-auto",sx:{"& > *":{flex:"0 0 auto"}},onMouseLeave:()=>P("invisible-selection"),children:[" ",O[T].tools.map((e,t)=>"custom"===e.__type__?n.jsx(e_,{supplier:e.supplier},t):n.jsx(S,{...e},t))]})]}),n.jsx(_.Z,{onClick:()=>e.dispatchCommand(g.BM,void 0),className:"self-end",children:n.jsx(ex.Z,{})})]})}class ej extends eh.rT{constructor(e){super(e)}static getType(){return"styled-quote"}static importJSON(e){let t=ek();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static clone(e){let t=(0,eh.Z1)();return t.setIndent(e.getIndent()),t.__format=e.getFormat(),t.setDirection(e.getDirection()),t.getChildren().push(...e.getChildren()),t}createDOM(e){let t=super.createDOM(e);return t.classList.add("quote","quote-border"),t}updateDOM(e,t){return(t.style.border||t.style.borderLeft||t.firstElementChild?.hasAttribute("style")&&t.firstElementChild.style.borderLeft||t.firstElementChild.style.border)&&t.classList.remove("quote-border"),super.updateDOM(e,t)}exportJSON(){return{...super.exportJSON(),type:ej.getType()}}}function ek(){return new ej}var eC=r(21820),eZ=r(6652),eN=r(59494),eT=r(37743),eM=r(34272);function eO({localizations:e,stateKeys:t,id:r}){let i=(0,eT.tv)();return n.jsx(Z.Z,{className:"w-1/5 text-black hover:text-white",variant:"contained",onClick:async()=>{let a=[];for(let t of eM.k1)if(e.get(t).content){let r=e.get(t);a.push({language:t.toUpperCase(),preview:r.preview,content:r.content,gallery:r.gallery.filter(e=>null!==e)})}let n=r?await (0,eN.r$)("/publications/"+r,{localizations:a}):await (0,eN.v_)("/publications?type=NEWS",{localizations:a});if(!n.ok){console.error(n.status+" "+await n.text());return}for(let e of t)localStorage.removeItem("editorState-preview-title-"+e),localStorage.removeItem("editorState-preview-image-"+e),localStorage.removeItem("editorState-"+e);let s=(await n.json()).id;i.push("/news/"+s)},children:n.jsx(N.Z,{children:"Save"})})}var eP=r(30081);function eL({key1:e,setEditorContent:t,restoreOnFirstRender:r}){let[i]=(0,m.g)();return n.jsx(eP.$,{onChange:r=>{localStorage.setItem(`editorState-${e}`,JSON.stringify(r)),t(JSON.stringify(r))}})}var eF=r(7079);function eE({key1:e,setPreview:t,initialState:r}){let[i,a]=x().useState(r.title??""),[s,l]=x().useState(r.image??null);return(0,n.jsxs)(eF.Z,{onSubmit:async e=>{e.preventDefault()},formProps:{className:"items-center gap-4 !w-[16.65dvw]"},children:[n.jsx(N.Z,{variant:"h1",children:"Preview"}),n.jsx(ea,{className:"!h-[25dvh] border-[1px] border-black",onPictureUpload:e=>l(e),initialPicture:s}),n.jsx(K.Z,{value:i,label:"Title",variant:"standard",className:"w-full",name:"title",required:!0,style:{...C.ZP.typography.h4},onChange:e=>a(e.target.value)})]})}var eR=r(62045),ez=r(3423),eD=r(99797);function eI({images:e,setImages:t}){return(0,n.jsxs)(p.Z,{className:"gap-6 items-center",children:[n.jsx(N.Z,{variant:"h1",children:"Gallery"}),(0,n.jsxs)(p.Z,{direction:"row",className:"gap-6 flex-wrap items-center",children:[e.map((r,i)=>n.jsx(e$,{removeThis:()=>t(e.toSpliced(i,1)),image:r,setImage:r=>t(e.toSpliced(i,1,r))},i)),n.jsx(_.Z,{onClick:()=>t(e=>[...e,null]),className:"h-fit",children:n.jsx(ez.Z,{fontSize:"large"})})]})]})}function e$({image:e,removeThis:t,setImage:r}){return(0,n.jsxs)(p.Z,{direction:"row",className:"relative flex-shrink-0",children:[n.jsx(_.Z,{className:"!absolute top-0 left-0 h-fit shadow-2xl   -translate-x-1/2 -translate-y-1/2 !bg-white hover:scale-110 hover:!bg-red-400 !border-[1px] !border-black",onClick:t,children:n.jsx(eD.Z,{})}),n.jsx(ea,{initialPicture:e,onPictureUpload:r,className:"h-[15dvw] w-[15dvw]"})]})}var eB=r(67037),eH=r(92652);let eq={text:{italic:"italic",underline:"underline",strikethrough:"line-through",underlineStrikethrough:"underline-strike"},link:"styled-autolink",nodes:[T,em.qp,eu,eh.rT,ej,{replace:g.R2,with:e=>{let t=new T(e.getTextContent());return t.__parent=e.__parent,t},withKlass:T},{replace:eh.rT,with:e=>{let t=ek();return t.__parent=e.__parent,t},withKlass:ej}]},eJ=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&\/=]*)/,eA=(0,y.Ue)((e,t)=>({className:"",addClass:r=>{t().className.includes(r)||e(e=>({className:e.className+" "+r}))},removeClass:t=>e(e=>({className:e.className.replace(t,"")}))})),eU={namespace:"MyEditor",theme:eq,onError:function(e){console.error(e)},nodes:[eh.c2,eh.rT,T,em.qp,eu,ej,{replace:g.R2,with:e=>new T(e.getTextContent()),withKlass:T},{replace:eh.rT,with:()=>ek(),withKlass:ej}]};function eW({initialState:e,id:t}){let r=eA(e=>e.className),[i,a]=x().useState(0),[h,m]=x().useState(new Map(eM.k1.map(t=>[t,e?.get(t)?.gallery??(localStorage.getItem(`gallery-${t}`)?JSON.parse(localStorage.getItem(`gallery-${t}`)):[])]))),[g,f]=x().useState(new Map(eM.k1.map(t=>[t,{preview:{title:e?.get(t)?.preview.title??"",image:e?.get(t)?.preview.image??""},gallery:h.get(t),content:e?.get(t)?.content??""}])));return(0,n.jsxs)(n.Fragment,{children:[n.jsx(u.Z,{onChange:(e,t)=>a(t),value:i,children:eM.k1.map(e=>n.jsx(d.Z,{label:e,"aria-controls":`tab-${e}`,id:`tab-${e}`},e))}),eM.k1.map(a=>a===eM.k1[i]&&n.jsx(p.Z,{className:"gap-6 items-center mb-10 mt-4",role:"tabpanel","aria-labelledby":`tab-${a}`,id:`tab-${a}`,children:(0,n.jsxs)(s.R,{initialConfig:{...eU,editorState:e?.get(a)?.content},children:[n.jsx(eH.e,{}),n.jsx(eL,{key1:a,setEditorContent:e=>{g.get(a).content=e},restoreOnFirstRender:e?.get(a)?.content===void 0}),n.jsx(ep,{}),n.jsx(eZ.y,{}),n.jsx(eC.$,{matchers:[(0,eC.v)(eJ,e=>e.startsWith("www.")?"https://"+e:e)]}),n.jsx(eb,{}),n.jsx(eR.Z,{}),n.jsx(l.B,{contentEditable:n.jsx(o.f,{contentEditable:!0,className:"w-full h-fit min-h-dvh border-[1px] border-black p-4 quote-container "+r,style:{...C.ZP.typography.body1}}),placeholder:n.jsx(n.Fragment,{}),ErrorBoundary:c.g}),n.jsx(eI,{images:h.get(a),setImages:e=>{m(t=>{e instanceof Array?t.set(a,e):t.set(a,e(t.get(a)));try{localStorage.setItem(`gallery-${a}`,JSON.stringify(t.get(a)))}catch(e){console.log(e)}return new Map(t)})}}),n.jsx(eE,{key1:a.toString(),setPreview:e=>{g.get(a).preview=e},initialState:{title:e?.get(a)?.preview.title,image:e?.get(a)?.preview.image}}),n.jsx(eO,{localizations:g,id:t,stateKeys:eM.k1.map((e,t)=>t.toString())})]})},a))]})}function eK(){let[e]=(0,m.g)(),t=(0,eB.C)(e),[r,i]=x().useState(t);return!r&&n.jsx(p.Z,{className:"gap-6",children:Array.from({length:10}).map((e,t)=>(0,n.jsxs)(x().Fragment,{children:[n.jsx(h.Z,{variant:"text",width:"100%"}),n.jsx(h.Z,{variant:"text",width:"100%"}),n.jsx(h.Z,{variant:"text",width:"100%"}),n.jsx(h.Z,{variant:"text",width:`${Math.round(100*Math.random())}%`})]},t))})}function eX({editorStateJson:e}){let t={...eU,editorState:e,editable:!1};return(0,n.jsxs)(s.R,{initialConfig:t,children:[n.jsx(l.B,{contentEditable:n.jsx(o.f,{contentEditable:!1,className:"w-full h-fit quote-container flex flex-col",style:{...C.ZP.typography.body1}}),placeholder:n.jsx(n.Fragment,{}),ErrorBoundary:c.g}),n.jsx(eK,{})]})}},97723:(e,t,r)=>{r.d(t,{K3:()=>o,ZP:()=>l});var i=r(68570);let a=(0,i.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx`),{__esModule:n,$$typeof:s}=a;a.default,(0,i.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#COMMAND_PRIORITY`),(0,i.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#useEditorClasses`);let l=(0,i.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#default`),o=(0,i.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#ReadOnlyEditor`)}};