"use strict";exports.id=558,exports.ids=[558],exports.modules={91329:(e,t,r)=>{r.d(t,{ReadOnlyEditor:()=>eJ,ZL:()=>eD,default:()=>eH,T$:()=>e$});var a,i,s=r(10326),n=r(22191),l=r(98066),o=r(78788),c=r(76057),u=r(23232),d=r(45112),h=r(15813),p=r(87700),m=r(55976),g=r(42337),f=r(54511),x=r(17577),_=r.n(x),y=r(48260),w=r(60114),v=r(83708),S=r(23844);let b=({title:e,icon:t,appendAfter:r,disabled:a=!1,active:i=!1,onClick:n})=>{let l=(0,S.useTranslations)("editor");return(0,s.jsxs)(s.Fragment,{children:[s.jsx(v.Z,{title:l(e),placement:"top",arrow:!0,children:s.jsx(y.Z,{disabled:a,className:i?"active":"",onClick:n,children:t})}),r&&r()]})};var j=r(7783),k=r(62232),C=r(94622),Z=r(3188),N=r(25609);class M extends f.R2{constructor(e,t,r=[]){super(e,t),this.__classList=[],this.__classList.push(...r)}get classList(){return this.__classList}set classList(e){this.__classList.splice(0,this.__classList.length,...e)}static getType(){return"custom-text"}static clone(e){return new M(e.getTextContent(),e.getKey(),e.__classList)}static importJSON(e){let t=super.importJSON(e);return t.__classList.push(...e._classList),t}setMediaClass(e){RegExp(`(${Object.values(a).map(e=>`(${e})`).join("|")})-media`).test(this.__classList[0])&&this.__classList.splice(0,1),e&&this.__classList.splice(0,0,`${e}-media`)}updateDOM(e,t,r){return t.classList.remove(...e.__classList),t.classList.add(...this.__classList),super.updateDOM(e,t,r)}createDOM(e,t){let r=super.createDOM(e,t);return r.classList.add(...this.__classList),r}isSimpleText(){return 0==this.__mode}exportJSON(){return{...super.exportJSON(),type:M.getType(),_classList:this.__classList}}exportDOM(e){let t=super.exportDOM(e);return t.element.classList.add(...this.__classList),t}}!function(e){e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.BODY1="body1",e.BODY2="body2",e.CAPTION="caption"}(a||(a={}));let O=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),T=(e,t)=>{for(let t of["font-weight","font-style","text-decoration","font-family","font-size","color","background-color"])(0,C.yD)(e,{[t]:null});for(let[r,a]of Object.entries(Z.ZP.typography[t]))"string"!=typeof a&&("fontSize"===r||r.startsWith("@"))?"fontSize"===r&&(0,C.yD)(e,{[O(r)]:a.toString()+"px"}):(0,C.yD)(e,{[O(r)]:a.toString()});(0,C.yD)(e,{"--level":t})},L=e=>{switch(e){case"h1":return"Heading 1";case"h2":return"Heading 2";case"h3":return"Heading 3";case"h4":return"Heading 4";case"h5":return"Heading 5";case"h6":return"Heading 6";case"body1":return"Body 1";case"body2":return"Body 2";case"caption":return"Caption"}};function P({level:e}){let t=(0,g.g)()[0];return s.jsx(p.Z,{className:"min-w-fit",onClick:function(){t.update(()=>{let t=(0,f.dL)();(0,f.OP)(t)&&T(t,a[e])}),t.update(()=>{let t=(0,f.dL)();(0,f.OP)(t)&&t.getNodes().forEach(t=>{t instanceof M&&t.setMediaClass(a[e])})})},children:s.jsx(N.Z,{variant:e.toLowerCase(),children:L(a[e])})})}var F=r(11833),E=r(66362),I=r(6062),R=r(42797),z=r(56966),D=r(75715),$=r(61973),B=r(95052),H=r(49040),q=r(45102),J=r(14212),A=r(69574),W=r(71026),U=r(15246),Y=r(4153);function K({props:e,option:t,timeoutRef:r,close:a}){return s.jsx(W.ZP,{...e,onMouseEnter:()=>{r.current&&(clearTimeout(r.current),r.current=null)},onMouseLeave:()=>{r.current=setTimeout(()=>{a(),r.current=null},100)},children:s.jsx(N.Z,{noWrap:!0,variant:"body1",children:t})})}let X=({label:e,cssProperty:t,autocompleteProps:r,validator:a,valuePreprocessor:i=e=>e,inputType:n="number",performOnSelection:l})=>{let o=(0,g.g)()[0],[c,u]=(0,x.useState)(r.defaultValue??""),d=(0,x.useRef)(null);(0,x.useEffect)(()=>{u(r.defaultValue??"")},[r.defaultValue]);let[h,p]=(0,x.useState)(!1),m=(0,S.useTranslations)("editor");return s.jsx(U.Z,{open:h,onMouseEnter:()=>{d.current&&(clearTimeout(d.current),d.current=null),p(!0)},onMouseLeave:()=>{d.current=setTimeout(()=>{p(!1),d.current=null},100)},className:"min-w-fit w-[10%]",...r,disableClearable:!0,value:c,onChange:(e,r)=>{r=r??"",(!a||a(r))&&(u(r),o.update(()=>{let e=(0,f.dL)();(0,f.OP)(e)&&(l?l(e,r):(0,C.yD)(e,{[t]:i(r)}),(0,C.yD)(e,{"--level":null}))}))},renderInput:t=>s.jsx(Y.Z,{...t,label:m(e),variant:"outlined",required:!0,type:n,value:c,sx:{"& > .MuiInputBase-root":{paddingBottom:"calc(0.5rem + 0.4dvw - 6px) !important"}}}),renderOption:(e,t)=>s.jsx(K,{props:e,option:t,timeoutRef:d,close:()=>p(!1)},t)})},V=JSON.parse('["IBM Plex Mono","IBM Plex Serif","Inter","Times New Roman","Comic Sans","Arial"]');var G=r(85710),Q=r(46127);class ee extends f.Ij{constructor(e,t,r,a,i,s,n,l){super(s),this.__src=e,this.__altText=t,this.__width=a,this.__height=i,this.__type=r,this.__initialWidth=n??a,this.__initialHeight=l??i}exportJSON(){return{type:this.__type,src:this.__src,altText:this.__altText,width:this.__width,height:this.__height,initialWidth:this.__initialWidth,initialHeight:this.__initialHeight,version:0}}exportDOM(e){let t=this.createDOM(void 0);return t.innerHTML=(0,Q.renderToStaticMarkup)(this.decorate(e,void 0)),{element:t}}createDOM(e){return document.createElement("span")}updateDOM(){return!1}}var et=r(65627);function er({replaceNode:e,xPos:t,yPos:r,setWidth:a,setHeight:i,XYRatio:n,parentRect:l}){let o;let c="none"===t?0:"left"===t?-1:1,u="none"===r?0:"top"===r?-1:1,d=_().useRef(!1),h=e=>{if(!d.current)return;let s={x:e.movementX/Math.sqrt(e.movementX**2+e.movementY**2),y:e.movementY/Math.sqrt(e.movementX**2+e.movementY**2)},l={x:"left"===t?1:-1,y:"top"===r?1:-1},o=Math.acos((s.x*l.x+s.y*l.y)/(Math.sqrt(s.x**2+s.y**2)*Math.sqrt(l.x**2+l.y**2)))%(2*Math.PI);console.log(o,s,l);let h=(o>Math.PI/2?1:-1)*Math.sqrt(e.movementX**2+e.movementY**2)/2,p=1*n*("none"!==t&&"none"!==r?h:e.movementX*c),m=1*("none"!==r&&"none"!==t?h:e.movementY*u);a(e=>e+p),i(e=>e+m)};switch(t+" "+r){case"left top":case"right bottom":o="cursor-nwse-resize";break;case"right top":case"left bottom":o="cursor-nesw-resize";break;case"left none":case"right none":o="cursor-ew-resize";break;case"none top":case"none bottom":o="cursor-ns-resize"}let p=l.left+("left"===t?0:"right"==t?1:.5)*l.width-4,m=l.top+("top"===r?0:"bottom"==r?1:.5)*l.height-4;return s.jsx(k.Z,{onMouseDown:t=>{t.preventDefault(),d.current=!0,window.addEventListener("mousemove",h),window.addEventListener("mouseup",function t(){d.current=!1,e(),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",t)})},className:`absolute w-2 h-2 bg-gray-400 border-[1px] border-black ${o}`,style:{left:p,top:m}})}function ea(e){let[t,r]=(0,x.useState)("number"==typeof e.width?e.width:void 0),[a,i]=(0,x.useState)("number"==typeof e.height?e.height:void 0),[n,l]=(0,x.useState)(null),[o,c]=(0,x.useState)(!1),u=_().useRef(null),d=null;try{[d]=(0,g.g)()}catch(e){}let h=(0,x.useRef)(t),p=(0,x.useRef)(a);(0,et.Z)();let m=["left","right","none"].flatMap(e=>["top","bottom","none"].map(t=>[e,t])).filter(([e,t])=>"none"!==e||"none"!==t);return(0,s.jsxs)(k.Z,{ref:u,className:"w-fit h-fit",onResize:function(){u.current&&l(new DOMRect(u.current.offsetLeft,u.current.offsetTop,u.current.offsetWidth,u.current.offsetHeight))},onClick:e=>{e.stopPropagation(),c(!0);let t=()=>{c(!1),window.removeEventListener("click",t)};u.current?.addEventListener("click",t)},children:[s.jsx("img",{onLoad:e=>{void 0===t&&r(e.currentTarget.width),void 0===a&&i(e.currentTarget.height)},className:"inline",style:{height:a+"px"},src:e.src,alt:e.alt,width:t,height:a}),n&&t&&a&&o&&d?.isEditable()&&m.map(([l,o])=>s.jsx(er,{replaceNode:()=>{d.update(()=>{let t=null;for(let r of d.getEditorState()._nodeMap.values())r instanceof ei&&r.__key===e.key1&&(t=r);t.replace(function({src:e,altText:t,width:r,height:a}){return new ei(e,t,r,a)}({src:t.__src,altText:t.__altText,width:h.current,height:p.current}))})},xPos:l,yPos:o,setWidth:r,setHeight:i,XYRatio:t/a,parentRect:n},`${l}-${o}`))]})}class ei extends ee{constructor(e,t,r,a,i,s,n){super(e,t,ei.getType(),r,a,i,s,n)}static getType(){return"image-node"}static clone(e){return new ei(e.__src,e.__altText,e.__width,e.__height,e.getKey())}static importJSON(e){return new ei(e.src,e.altText,e.width,e.height,void 0,e.initialWidth,e.initialHeight)}exportJSON(){return super.exportJSON()}decorate(){return s.jsx(ea,{key1:this.getKey(),src:this.__src,alt:this.__altText,width:this.__width,height:this.__height})}}let es=(0,f.fA)("INSERT_IMAGE_COMMAND");function en(){let[e]=(0,g.g)();return null}var el=r(55156),eo=r(25e3),ec=r(20822);(i||(i={})).IMAGE="image";let eu=e=>{let t=ep(e=>e),[r,i]=_().useState(null);return[{title:"presets",tools:[{__type__:"custom",supplier:()=>s.jsx(h.Z,{direction:"row",className:"gap-4",onMouseLeave:()=>{},children:Object.keys(a).map(e=>s.jsx(P,{level:e},e))})}]},{title:"textFormating",tools:[{__type__:"default",title:"textFormating.bold",icon:s.jsx(F.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(f.Ew,"bold")},active:t.isBold},{__type__:"default",title:"textFormating.italic",icon:s.jsx(E.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(f.Ew,"italic")},active:t.isItalic},{__type__:"default",title:"textFormating.underline",icon:s.jsx(I.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(f.Ew,"underline")},active:t.isUnderline},{__type__:"default",title:"textFormating.strikethrough",icon:s.jsx(R.Z,{fontSize:"small"}),onClick:()=>{e.dispatchCommand(f.Ew,"strikethrough")},active:t.isStrikethrough},{__type__:"default",title:"textFormating.quote",icon:s.jsx(z.Z,{fontSize:"small"}),onClick:()=>{e.update(()=>{let e=(0,f.dL)();if((0,f.OP)(e)){let t=e.getNodes().map(e=>e.getParent()).filter(e=>(0,f.Rl)(e)||(0,eo.Xp)(e)),r=t.every(e=>{do if((0,el.O)(e))return!0;while(e=e.getParent());return!1}),a=new Set(t);r?a.forEach(e=>{let t=e;for(;t&&!(0,el.O)(t);)t=t.getParent();if((0,el.O)(t)){let e=t.getFirstChild();t.insertBefore(e),t.remove()}}):a.forEach(e=>{(0,ec.JB)(e,el.Z1)})}})},active:!0},{__type__:"default",title:"textFormating.alignLeft",icon:s.jsx(D.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(f.RO,"left")},{__type__:"default",title:"textFormating.alignCenter",icon:s.jsx($.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(f.RO,"center")},{__type__:"default",title:"textFormating.alignRight",icon:s.jsx(B.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(f.RO,"right")},{__type__:"default",title:"textFormating.alignJustify",icon:s.jsx(H.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(f.RO,"justify")},{__type__:"default",title:"textFormating.undo",icon:s.jsx(q.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(f.$l,void 0),disabled:!t.canUndo},{__type__:"default",title:"textFormating.redo",icon:s.jsx(J.Z,{fontSize:"small"}),onClick:()=>e.dispatchCommand(f.zq,void 0),disabled:!t.canRedo},{__type__:"custom",supplier:()=>{let e=ep(e=>e.lineHeight);return s.jsx(X,{label:"textFormating.lineHeight",cssProperty:"line-height",autocompleteProps:{options:["1","1.15","1.5","2","2.5","3"],freeSolo:!0,defaultValue:(+e.toFixed(2)).toString()},performOnSelection:(e,t)=>{for(let r of new Set(e.getNodes().map(e=>e.getParent()).filter(e=>(0,f.Rl)(e)||(0,eo.Xp)(e))))r.getChildren().forEach(e=>{(0,f.Gg)(e)&&(e.setStyle(e.getStyle().replaceAll(/line-height:\s*[\d.]+\s*%?;?/g,"")),e.setStyle(e.getStyle()+`line-height: ${100*parseFloat(t)}%;`))})},inputType:"number"})}},{__type__:"custom",supplier:()=>{let e=ep(e=>e.font);return s.jsx(X,{label:"textFormating.fontFamily",autocompleteProps:{options:V,defaultValue:e},cssProperty:"font-family",inputType:"text"})}},{__type__:"custom",supplier:()=>{let e=ep(e=>e.fontSize);return s.jsx(X,{label:"textFormating.fontSize",cssProperty:"font-size",autocompleteProps:{options:["1","2","4","6","8","10","12","14","16","18","20","24","28","32","36","40","48","56","64","72"],freeSolo:!0,defaultValue:e.toString()},valuePreprocessor:e=>e+"px",inputType:"number"})}}]},{title:"multimedia",tools:[{__type__:"default",title:"multimedia.image",icon:s.jsx(A.Z,{fontSize:"small"}),onClick:()=>{i("image")},appendAfter:()=>s.jsx(j.Z,{open:"image"===r,onClick:()=>i(null),children:s.jsx(k.Z,{onClick:e=>e.stopPropagation(),className:"w-1/2 h-1/2 bg-white rounded-2xl border-black border-2",children:s.jsx(G.v,{onPictureUpload:t=>{e.dispatchCommand(es,{src:t,altText:"Image"}),i(null)},resetOnUpload:!0})})})}]}]};var ed=r(61402);let eh=({supplier:e})=>e(),ep=(0,w.Ue)((e,t)=>({canUndo:!1,canRedo:!1,isBold:!1,isItalic:!1,isUnderline:!1,isStrikethrough:!1,font:"IBM Plex Mono",fontSize:16,lineHeight:1.5,color:"#000000",backgroundColor:"#FFFFFF",sharedSelectionBackgroundTimeout:null,setSharedSelectionBackgroundTimeout:r=>{t().clearSelectionBackgroundTimeout(),e({sharedSelectionBackgroundTimeout:r})},clearSelectionBackgroundTimeout:()=>{null!==t().sharedSelectionBackgroundTimeout&&(clearTimeout(t().sharedSelectionBackgroundTimeout),e({sharedSelectionBackgroundTimeout:null}))},setState:t=>e(t)}));function em(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function eg(e){let t=parseInt(e.split(",")[0].split("(")[1]),r=parseInt(e.split(",")[1]),a=parseInt(e.split(",")[2].split(")")[0]);return"#"+em(t)+em(r)+em(a)}function ef(e,t){let r=null;for(let a of e.getNodes())if((0,f.Gg)(a)){let e=RegExp(`${t}:([^;]+);`).exec(a.getStyle());if(e){let t=e[1].trim();if(/rgb\((\s*\d+){3}\)/.test(r)&&(t=eg(t)),r&&t!==r)return null;r=t}else{if(!(0,eo.Xp)(a.getParent()))return null;e:for(let e of document.styleSheets)for(let a of e.cssRules)if(a.cssText.includes(".styled-autolink > *")){let e=a.cssText,i=RegExp(`${t}:([^;]+);`).exec(e);if(i){let e=i[1].trim();if(/rgb\((\s*\d+){3}\)/.test(r)&&(e=eg(e)),r&&e!==r)return null;r=e}break e}}}return r}function ex(){let[e]=(0,g.g)(),[t,r]=(0,x.useState)(!1),[a,i]=(0,x.useState)(!1),[n,l]=(0,x.useState)(!1),[o,c]=(0,x.useState)(!1),[p,m]=(0,x.useState)("IBM Plex Mono"),[_,w]=(0,x.useState)(16),[v,j]=(0,x.useState)(1.5),[k,C]=(0,x.useState)("black"),[Z,N]=(0,x.useState)("white"),[M,O]=(0,x.useState)(0);ep(e=>e.setState),(0,x.useCallback)(()=>{let e=(0,f.dL)();if((0,f.OP)(e)){r(e.hasFormat("bold")),i(e.hasFormat("italic")),l(e.hasFormat("underline")),c(e.hasFormat("strikethrough")),m(ef(e,"font-family")??"IBM Plex Mono");let t=ef(e,"font-size");t?w(parseInt(t)):w(16);let a=ef(e,"line-height");a?j(parseFloat(a)/100):j(1.5),C(ef(e,"color")??"#000000"),N(ef(e,"background-color")??"#FFFFFF")}},[]);let T=eu(e),L=e$(e=>e.removeClass),P=(0,S.useTranslations)("editor");return(0,s.jsxs)(h.Z,{direction:"row",className:"w-full max-w-full justify-between",children:[(0,s.jsxs)(h.Z,{className:"gap-4 w-full",children:[s.jsx(u.Z,{value:M,onChange:(e,t)=>{O(t)},children:T.map((e,t)=>s.jsx(d.Z,{label:P(e.title+".title"),id:`tab-${t}`,"aria-controls":`tabcontrol-${t}`},t))}),(0,s.jsxs)(h.Z,{direction:"row",spacing:1,"aria-labelledby":`tab-${M}`,id:`tabcontrol-${M}`,className:"items-center w-full overflow-x-auto",sx:{"& > *":{flex:"0 0 auto"}},onMouseLeave:()=>L("invisible-selection"),children:[" ",T[M].tools.map((e,t)=>"custom"===e.__type__?s.jsx(eh,{supplier:e.supplier},t):s.jsx(b,{...e},t))]})]}),s.jsx(y.Z,{onClick:()=>e.dispatchCommand(f.BM,void 0),className:"self-end",children:s.jsx(ed.Z,{})})]})}class e_ extends el.rT{constructor(e){super(e)}static getType(){return"styled-quote"}static importJSON(e){let t=ey();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static clone(e){let t=(0,el.Z1)();return t.setIndent(e.getIndent()),t.__format=e.getFormat(),t.setDirection(e.getDirection()),t.getChildren().push(...e.getChildren()),t}createDOM(e){let t=super.createDOM(e);return t.classList.add("quote","quote-border"),t}updateDOM(e,t){return(t.style.border||t.style.borderLeft||t.firstElementChild?.hasAttribute("style")&&t.firstElementChild.style.borderLeft||t.firstElementChild.style.border)&&t.classList.remove("quote-border"),super.updateDOM(e,t)}exportJSON(){return{...super.exportJSON(),type:e_.getType()}}}function ey(){return new e_}var ew=r(21820),ev=r(6652),eS=r(59494),eb=r(37743),ej=r(34272);function ek({localizations:e,stateKeys:t,id:r}){let a=(0,eb.tv)();return s.jsx(p.Z,{className:"w-1/5 text-black hover:text-white",variant:"contained",onClick:async()=>{let i=[];for(let t of ej.k1)if(e.get(t).content){let r=e.get(t);i.push({language:t.toUpperCase(),preview:r.preview,content:r.content,gallery:r.gallery.filter(e=>null!==e)})}let s=r?await (0,eS.r$)("/publications/"+r,{localizations:i}):await (0,eS.v_)("/publications?type=NEWS",{localizations:i});if(!s.ok){console.error(s.status+" "+await s.text());return}for(let e of t)localStorage.removeItem("editorState-preview-title-"+e),localStorage.removeItem("editorState-preview-image-"+e),localStorage.removeItem("editorState-"+e);let n=(await s.json()).id;eD(),a.push("/news/"+n)},children:s.jsx(N.Z,{children:"Save"})})}var eC=r(30081);function eZ({key1:e,setEditorContent:t,restoreOnFirstRender:r}){let[a]=(0,g.g)();return s.jsx(eC.$,{onChange:r=>{localStorage.setItem(`editorState-${e}`,JSON.stringify(r)),t(JSON.stringify(r))}})}var eN=r(7079);function eM({key1:e,setPreview:t,initialState:r}){let[a,i]=_().useState(r.title??""),[n,l]=_().useState(r.image??null);return(0,s.jsxs)(eN.Z,{onSubmit:async e=>{e.preventDefault()},formProps:{className:"items-center gap-4 !w-[16.65dvw]"},children:[s.jsx(N.Z,{variant:"h1",children:"Preview"}),s.jsx(G.v,{className:"!h-[25dvh] border-[1px] border-black",onPictureUpload:e=>l(e),initialPicture:n}),s.jsx(Y.Z,{value:a,label:"Title",variant:"standard",className:"w-full",name:"title",required:!0,style:{...Z.ZP.typography.h4},onChange:e=>i(e.target.value)})]})}var eO=r(62045),eT=r(3423),eL=r(99797);function eP({images:e,setImages:t}){return(0,s.jsxs)(h.Z,{className:"gap-6 items-center",children:[s.jsx(N.Z,{variant:"h1",children:"Gallery"}),(0,s.jsxs)(h.Z,{direction:"row",className:"gap-6 flex-wrap items-center justify-center",children:[e.map((r,a)=>s.jsx(eF,{removeThis:()=>t(e.toSpliced(a,1)),image:r??{image:"",alt:""},setImage:r=>t(e.toSpliced(a,1,r))},a)),s.jsx(y.Z,{onClick:()=>t([...e,null]),className:"h-fit",children:s.jsx(eT.Z,{fontSize:"large"})})]})]})}function eF({image:e,removeThis:t,setImage:r}){return(0,s.jsxs)(h.Z,{className:"relative flex-shrink-0 gap-4",children:[s.jsx(y.Z,{className:"!absolute top-0 left-0 h-fit shadow-2xl   -translate-x-1/2 -translate-y-1/2 !bg-white hover:scale-110 hover:!bg-red-400 !border-[1px] !border-black",onClick:t,children:s.jsx(eL.Z,{})}),s.jsx(G.v,{initialPicture:""===e.image?null:e.image,onPictureUpload:t=>r({...e,image:t}),className:"h-[15dvw] w-[15dvw]"}),s.jsx(Y.Z,{name:"alt",label:"Alt",onChange:t=>r({...e,alt:t.target.value}),required:!0,variant:"standard",defaultValue:e.alt})]})}var eE=r(67037),eI=r(92652);let eR={text:{italic:"italic",underline:"underline",strikethrough:"line-through",underlineStrikethrough:"underline-strike"},link:"styled-autolink",nodes:[M,eo.qp,ei,el.rT,e_,{replace:f.R2,with:e=>{let t=new M(e.getTextContent());return t.__parent=e.__parent,t},withKlass:M},{replace:el.rT,with:e=>{let t=ey();return t.__parent=e.__parent,t},withKlass:e_}]},ez=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&\/=]*)/;function eD(){for(let e in localStorage)(e.startsWith("gallery-")||e.startsWith("editorState-"))&&localStorage.removeItem(e)}let e$=(0,w.Ue)((e,t)=>({className:"",addClass:r=>{t().className.includes(r)||e(e=>({className:e.className+" "+r}))},removeClass:t=>e(e=>({className:e.className.replace(t,"")}))})),eB={namespace:"MyEditor",theme:eR,onError:function(e){console.error(e)},nodes:[el.c2,el.rT,M,eo.qp,ei,e_,{replace:f.R2,with:e=>new M(e.getTextContent()),withKlass:M},{replace:el.rT,with:()=>ey(),withKlass:e_}]};function eH({initialState:e,id:t}){let r=e$(e=>e.className),[a,i]=_().useState(0),[m,g]=_().useState(new Map(ej.k1.map(t=>[t,e?e.get(t)?.gallery??[]:localStorage.getItem(`gallery-${t}`)?JSON.parse(localStorage.getItem(`gallery-${t}`)):[]]))),[f,x]=_().useState(window.scrollY),y=(0,eb.tv)(),[w,v]=_().useState(new Map(ej.k1.map(t=>[t,{preview:{title:e?.get(t)?.preview.title??"",image:e?.get(t)?.preview.image??""},gallery:m.get(t),content:e?.get(t)?.content??""}])));return(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.Z,{onChange:(e,t)=>i(t),value:a,children:ej.k1.map(e=>s.jsx(d.Z,{label:e,"aria-controls":`tab-${e}`,id:`tab-${e}`},e))}),ej.k1.map(i=>i===ej.k1[a]&&(0,s.jsxs)(h.Z,{className:"gap-6 items-center mb-10 mt-4",role:"tabpanel","aria-labelledby":`tab-${i}`,id:`tab-${i}`,children:[e&&s.jsx(p.Z,{variant:"text",color:"error",onClick:async()=>{let e=await (0,eS.IV)(`/publications/${t}`);if(!e.ok){console.error(e.status+" "+await e.text());return}eD(),y.push("/admin/editor")},className:"text-red-700 hover:scale-105 shadow-xl hover:text-white hover:bg-red-700",children:"Delete"}),(0,s.jsxs)(n.R,{initialConfig:{...eB,editorState:e?.get(i)?.content},children:[s.jsx(eI.e,{}),s.jsx(eZ,{key1:i,setEditorContent:e=>{w.get(i).content=e},restoreOnFirstRender:e?.get(i)?.content===void 0}),s.jsx(en,{}),s.jsx(ev.y,{}),s.jsx(ew.$,{matchers:[(0,ew.v)(ez,e=>e.startsWith("www.")?"https://"+e:e)]}),s.jsx(ex,{}),s.jsx(eO.Z,{}),s.jsx(l.B,{contentEditable:s.jsx(o.f,{contentEditable:!0,className:"w-full h-fit min-h-dvh border-[1px] border-black p-4 quote-container "+r,style:{...Z.ZP.typography.body1}}),placeholder:s.jsx(s.Fragment,{}),ErrorBoundary:c.g}),s.jsx(eP,{images:m.get(i),setImages:e=>{g(t=>{t.set(i,e);try{localStorage.setItem(`gallery-${i}`,JSON.stringify(t.get(i)))}catch(e){console.log(e)}return new Map(t)})}}),s.jsx(eM,{key1:i.toString(),setPreview:e=>{w.get(i).preview=e},initialState:{title:e?.get(i)?.preview.title,image:e?.get(i)?.preview.image}}),s.jsx(ek,{localizations:w,id:t,stateKeys:ej.k1.map((e,t)=>t.toString())})]})]},i))]})}function eq(){let[e]=(0,g.g)(),t=(0,eE.C)(e),[r,a]=_().useState(t);return!r&&s.jsx(h.Z,{className:"gap-6",children:Array.from({length:10}).map((e,t)=>(0,s.jsxs)(_().Fragment,{children:[s.jsx(m.Z,{variant:"text",width:"100%"}),s.jsx(m.Z,{variant:"text",width:"100%"}),s.jsx(m.Z,{variant:"text",width:"100%"}),s.jsx(m.Z,{variant:"text",width:`${Math.round(100*Math.random())}%`})]},t))})}function eJ({editorStateJson:e}){let t={...eB,editorState:e,editable:!1};return(0,s.jsxs)(n.R,{initialConfig:t,children:[s.jsx(l.B,{contentEditable:s.jsx(o.f,{contentEditable:!1,className:"w-full h-fit quote-container flex flex-col",style:{...Z.ZP.typography.body1}}),placeholder:s.jsx(s.Fragment,{}),ErrorBoundary:c.g}),s.jsx(eq,{})]})}},97723:(e,t,r)=>{r.d(t,{K3:()=>s,ZP:()=>i});var a=r(68570);(0,a.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#COMMAND_PRIORITY`),(0,a.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#clearLocalStorage`),(0,a.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#useEditorClasses`);let i=(0,a.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#default`),s=(0,a.createProxy)(String.raw`C:\ksu\front\app\[locale]\(with-header)\admin\editor\editor.tsx#ReadOnlyEditor`)}};