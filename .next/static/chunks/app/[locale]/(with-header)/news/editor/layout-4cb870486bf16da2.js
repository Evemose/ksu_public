(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[913],{98332:function(e,n,r){Promise.resolve().then(r.bind(r,91727))},91727:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return f}});var t=r(57437),s=r(62409),i=r(97709),o=r(84030),a=r(83719),l=r(50450),c=r(5864),u=r(16463);function d(){let e=(0,u.useRouter)();return(0,t.jsx)(i.a,{children:(0,t.jsxs)(s.Z,{onSubmit:async n=>{n.preventDefault();let r=new FormData(n.currentTarget),t=await (0,c.v_)("/login",{},{Authorization:"Basic "+btoa("".concat(r.get("username"),":").concat(r.get("password")))});if(!t.ok)throw console.log(await t.text()),s.T.ofProblemDetails(await t.json());e.refresh()},formProps:{className:"h-[80dvh] items-center justify-center pt-[10dvh] px-[40dvw] gap-4"},disableSuccessSnackbar:!0,children:[(0,t.jsx)(o.Z,{name:"username",label:"Username",variant:"outlined",fullWidth:!0,required:!0}),(0,t.jsx)(o.Z,{name:"password",label:"Password",variant:"outlined",fullWidth:!0,type:"password",required:!0}),(0,t.jsx)(l.K,{props:{type:"submit",className:"mt-6"},children:(0,t.jsx)(a.Z,{variant:"body2",children:"Login"})})]})})}function f(e){let{children:n}=e;return document.cookie.includes("BearerTail")||document.cookie.includes("BearerTail")?(0,t.jsx)(t.Fragment,{children:n}):(0,t.jsx)(d,{})}},50450:function(e,n,r){"use strict";r.d(n,{K:function(){return i}});var t=r(57437),s=r(76548);function i(e){var n;let{children:r,props:i={}}=e;return(0,t.jsxs)(s.Z,{...i,className:"".concat(null!==(n=null==i?void 0:i.className)&&void 0!==n?n:""," !bg-button-primary \n                !capitalize hover:!bg-button-hover-primary \n                [&>*]:!text-white \n                !px-12 !h-14 gap-4 !py-0"),sx:{"&:hover > svg":{transform:"translateX(4px)"}},children:[r,(0,t.jsxs)("svg",{height:"14",viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-transform ease-linear duration-200",children:[(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.2931 7.00003L20.6465 12.6485L21.3537 13.3555L27.7071 7.00001L21.3537 0.644792L20.6465 1.3518L26.2931 7.00003Z",fill:"white"}),(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.50024L27 6.50024L27 7.50024L8.74228e-08 7.50024L0 6.50024Z",fill:"white"})]})]})}r(37061)},62409:function(e,n,r){"use strict";r.d(n,{T:function(){return d},Z:function(){return f}});var t=r(57437),s=r(2265),i=r(84030),o=r(44812),a=r(32529),l=r(61520),c=r(27270),u=r(18087);class d extends Error{get errors(){return this._errors}static ofProblemDetails(e){return new d(e.map(e=>{let{detail:n,properties:r}=e;return{[Object.keys(r)[0]]:n}}))}constructor(e){super("Form fields validation failed"),this._errors=e}}function f(e){var n,r;let{children:f,onSubmit:h,messageOverrides:p={},formProps:m={},disableSuccessSnackbar:v=!1}=e,[y,x]=s.useState([]),[b,j]=s.useState(null),w=(0,u.useTranslations)("form"),g=s.Children.toArray(f).map(e=>(function e(n){if(n.children&&(n.children=s.Children.toArray(n.children).map(n=>e(n))),n.type===i.Z||n.type===o.Z){let e=y.find(e=>Object.keys(e)[0]===n.props.name);if(e)return s.cloneElement(n,{error:!0,helperText:Object.values(e)[0],onChange:e=>{n.props.onChange&&n.props.onChange(e),x(y.filter(e=>Object.keys(e)[0]!==n.props.name))}})}return n})(e)).map((e,n)=>s.cloneElement(e,{key:n}));return(0,t.jsxs)(a.Z,{onSubmit:async e=>{try{await h(e),j("success")}catch(e){if(!(e instanceof d))throw e;j("error"),x(e.errors)}},...m,component:"form",children:[g.map((e,n)=>e),!v&&(0,t.jsx)(l.Z,{open:"success"===b,onClose:()=>j(null),children:(0,t.jsx)(c.Z,{severity:"success",variant:"filled",onClose:()=>j(null),children:null!==(n=p.success)&&void 0!==n?n:w("success")})}),(0,t.jsx)(l.Z,{open:"error"===b,onClose:()=>j(null),children:(0,t.jsx)(c.Z,{severity:"error",variant:"filled",onClose:()=>j(null),children:null!==(r=p.error)&&void 0!==r?r:w("error")})})]})}},5864:function(e,n,r){"use strict";r.d(n,{r$:function(){return i},v_:function(){return s}}),r(25566).env.SERVER_API_URL;let t=e=>"".concat("https://dev.ksu.ks.ua/back").concat(e);async function s(e,n,r){return await fetch("".concat(t(e)),{method:"POST",headers:{"Content-Type":"application/json",...r},credentials:"include",body:JSON.stringify(n)})}async function i(e,n){return await fetch("".concat(t(e)),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)})}},97709:function(e,n,r){"use strict";r.d(n,{a:function(){return o}});var t=r(2265),s=r(38017),i=r(57437);function o(e){let{children:n,defer:r=!1,fallback:o=null}=e,[a,l]=t.useState(!1);return(0,s.default)(()=>{r||l(!0)},[r]),t.useEffect(()=>{r&&l(!0)},[r]),(0,i.jsx)(t.Fragment,{children:a?n:o})}},37061:function(e){"use strict";e.exports=JSON.parse('{"primary":{"main":"#000000"},"secondary":{"main":"#FEFFE6"},"info":{"main":"#D5DAFF"},"button":{"hover-primary":"#2B48FF","hover-secondary":"white"},"gray":{"darkest":"#16161D","darker":"#62626A","default":"#AAAAAD","light":"#F7F7F7"},"blue":"#2B48FF"}')}},function(e){e.O(0,[249,861,296,878,971,23,744],function(){return e(e.s=98332)}),_N_E=e.O()}]);