(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{67737:function(e,t,n){var r={"./en.json":[82724,724],"./uk.json":[6583,583]};function a(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],a=t[0];return n.e(t[1]).then(function(){return n.t(a,19)})}a.keys=function(){return Object.keys(r)},a.id=67737,e.exports=a},98025:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(57437),a=n(62819),o=n(2265),s=n(73105),l=n(93430),i=n(97183),c=n(32529),u=n(60335),d=n(62409),f=n(5864),p=n(33657);function h(e){return(0,r.jsx)(l.Z,{value:e.value,onChange:e.onChange,children:s.k1.map(e=>(0,r.jsx)(i.Z,{value:e,label:e,id:"tab-".concat(e),"aria-controls":"tabpanel-".concat(e)},e))})}function m(e){let{data:t=null,addEl:n,formNode:a,domain:l,mutateRequest:i=e=>e,postUrl:m=()=>l,removeSelf:x}=e,[v,g]=(0,o.useState)("en"),[j,y]=(0,o.useState)(t);return(0,o.useEffect)(()=>{y(t)},[t]),(0,r.jsxs)(c.Z,{className:"gap-4 justify-start h-fit flex-nowrap w-[calc(33%_-_16px)]",children:[(0,r.jsx)(h,{value:v,onChange:(e,t)=>g(t)}),(0,r.jsxs)(d.Z,{onSubmit:async e=>{if(e.preventDefault(),!j)return;let r=i({localizations:Object.entries(j.localizations).map(e=>{let[t,n]=e;return{...n,language:t.toUpperCase(),id:void 0}})}),a=t?await (0,f.r$)("".concat(m(r),"/").concat(t.id),r):await (0,f.v_)(m(r),r);if(a.ok)t||(n(await a.json()),y(null));else throw d.T.ofProblemDetails(await a.json())},formProps:{className:"relative"},children:[t&&(0,r.jsx)(u.Z,{className:"!absolute top-0 right-0 translate-x-1/2 -translate-y-1/2 bg-red-400 hover:!bg-red-600",onClick:async()=>{let e=await (0,f.IV)("".concat(l,"/").concat(t.id));e.ok||console.error(e.status+" "+await e.text()),x()},children:(0,r.jsx)(p.Z,{})}),s.k1.map(e=>(0,r.jsx)(c.Z,{hidden:e!==v,id:"tabpanel-".concat(e),"aria-labelledby":"tab-$locale}",className:"gap-4 w-full justify-center",children:a(j,y,e)},e))]})]})}function x(e){let{domain:t,formNode:n,idSource:s,mutateRequest:l,postUrl:i,processDto:u=e=>e}=e,{data:d}=(0,a.X)(t),[f,p]=(0,o.useState)(d.map(h));function h(e){let t={};for(let n in e.localizations)t[n.toLowerCase()]=e.localizations[n];return u({...e,localizations:t})}function x(e){p([...f,h(e)])}return(0,r.jsxs)(c.Z,{className:"gap-4 flex-wrap justify-center",direction:"row",children:[(0,r.jsx)(m,{addEl:x,formNode:n,domain:t,mutateRequest:l,postUrl:i}),f.map(e=>(0,r.jsx)(m,{mutateRequest:l,postUrl:i,data:e,addEl:x,formNode:n,domain:s?t.replace("{id}",s(e)):t,removeSelf:()=>p(f.filter(t=>t!==e))},e.id))]})}},73105:function(e,t,n){"use strict";n.d(t,{he:function(){return s},k1:function(){return o}});var r=n(16463),a=n(65051);let o=Object.freeze(["uk","en"]),s=Object.freeze({en:"ENG",uk:"УКР"});(0,a.cF)(async e=>{let{locale:t}=e;return o.includes(t)||(0,r.notFound)(),{messages:(await n(67737)("./".concat(t,".json"))).default}})},50450:function(e,t,n){"use strict";n.d(t,{F:function(){return i},K:function(){return l}});var r=n(57437),a=n(75519),o=n(32529),s=n(37169);function l(e){var t;let{children:n,disableArrow:o,props:s={}}=e;return(0,r.jsxs)(a.Z,{...s,className:"".concat(null!==(t=s.className)&&void 0!==t?t:""," !bg-button-primary \n                !capitalize hover:!bg-button-hover-primary \n                [&>*]:!text-white \n                !px-12 !h-14 gap-4 !py-0"),sx:{"&:hover > svg":{transform:"translateX(4px)"}},children:[n,!o&&(0,r.jsxs)("svg",{height:"14",viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-transform ease-linear duration-200",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.2931 7.00003L20.6465 12.6485L21.3537 13.3555L27.7071 7.00001L21.3537 0.644792L20.6465 1.3518L26.2931 7.00003Z",fill:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.50024L27 6.50024L27 7.50024L8.74228e-08 7.50024L0 6.50024Z",fill:"white"})]})]})}function i(e){var t;let{children:n,props:a={},disabled:l,direction:i}=e;return(0,r.jsxs)(o.Z,{direction:"row",...a,className:"".concat(null!==(t=a.className)&&void 0!==t?t:""," gap-4 items-start h-full\n            ").concat(l?"[&>*]:!text-themed-gray [&_svg]:!text-themed-gray":"[&:hover>*]:!text-themed-blue [&:hover_svg]:!text-themed-blue","\n             transition-[color] duration-200 ease-linear order-1\n            ").concat(l?"":"cursor-pointer","\n            "),sx:{"&:hover > div":{transform:"left"===i?"translateX(-4px) scaleX(-1)":"translateX(4px)"}},children:[n,(0,r.jsx)(s.Z,{className:"pt-[3px] w-8 transition-transform duration-300 ease-linear\n                    ".concat("left"===i?"-order-1 -scale-x-100":"","\n                     max-lg:pt-0.5 max-lg:w-8\n                     2xl:pt-1\n                     "),sx:{"&::before, &::after":{content:"' '"}},children:(0,r.jsxs)("svg",{width:"auto",height:"auto",viewBox:"0 0 220 82",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"leading-5 text-themed-darker-gray",children:[(0,r.jsx)("path",{d:"M220 35V47H208V58H196V46H0V36H196V24H208V35H220Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M196 12H184V24H196V12Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M184 0H172V12H184V0Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M196 58H184V70H196V58Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M184 70H172V82H184V70Z",fill:"currentColor"})]})})]})}},15289:function(e,t,n){"use strict";n.d(t,{M:function(){return s}});var r=n(57437),a=n(79706),o=n(2265);function s(e){let{props:t}=e,[n,s]=(0,o.useState)({start:0,end:0});if(t.type&&"text"!==t.type)throw Error("ControlledTextField only supports type='text'");let l=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(l.current){let e=l.current.type;l.current.type="text",l.current.setSelectionRange(n.start,n.end),l.current.type=e}},[n,t.value]),(0,r.jsx)(a.Z,{...t,onChange:e=>{var n,r,a;t.onChange&&t.onChange(e),s({start:null!==(r=e.target.selectionStart)&&void 0!==r?r:0,end:null!==(a=e.target.selectionEnd)&&void 0!==a?a:0}),null===(n=l.current)||void 0===n||n.focus()},inputRef:l})}},62409:function(e,t,n){"use strict";n.d(t,{T:function(){return d},Z:function(){return f}});var r=n(57437),a=n(2265),o=n(79706),s=n(44812),l=n(32529),i=n(61520),c=n(27270),u=n(18087);class d extends Error{get errors(){return this._errors}static ofProblemDetails(e){return new d(e.map(e=>{let{detail:t,properties:n}=e;return{[Object.keys(n)[0]]:t}}))}constructor(e){super("Form fields validation failed"),this._errors=e}}function f(e){var t,n;let{children:f,onSubmit:p,messageOverrides:h={},formProps:m={},disableSuccessSnackbar:x=!1}=e,[v,g]=a.useState([]),[j,y]=a.useState(null),w=(0,u.useTranslations)("form"),b=a.Children.toArray(f).map(e=>(function e(t){if(t.children&&(t.children=a.Children.toArray(t.children).map(t=>e(t))),t.type===o.Z||t.type===s.Z){let e=v.find(e=>Object.keys(e)[0]===t.props.name);if(e)return a.cloneElement(t,{error:!0,helperText:Object.values(e)[0],onChange:e=>{t.props.onChange&&t.props.onChange(e),g(v.filter(e=>Object.keys(e)[0]!==t.props.name))}})}return t})(e)).map((e,t)=>a.cloneElement(e,{key:t}));return(0,r.jsxs)(l.Z,{onSubmit:async e=>{try{await p(e),y("success")}catch(e){if(!(e instanceof d))throw e;y("error"),g(e.errors)}},...m,component:"form",children:[b.map((e,t)=>e),!x&&(0,r.jsx)(i.Z,{open:"success"===j,onClose:()=>y(null),children:(0,r.jsx)(c.Z,{severity:"success",variant:"filled",onClose:()=>y(null),children:null!==(t=h.success)&&void 0!==t?t:w("success")})}),(0,r.jsx)(i.Z,{open:"error"===j,onClose:()=>y(null),children:(0,r.jsx)(c.Z,{severity:"error",variant:"filled",onClose:()=>y(null),children:null!==(n=h.error)&&void 0!==n?n:w("error")})})]})}},57561:function(e,t,n){"use strict";n.d(t,{v:function(){return h}});var r=n(57437),a=n(2265),o=n(31655),s=n(37169),l=n(56065),i=n(83719),c=n(44812),u=n(5371);let d=e=>new Promise((t,n)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=n}),f=async(e,t)=>{for(let n of(e.preventDefault(),e.dataTransfer.files))n.type.startsWith("image")&&t(n)},p=async(e,t)=>{e.currentTarget.files&&e.currentTarget.files[0]&&e.currentTarget.files[0].type.startsWith("image")&&t(e.currentTarget.files[0])},h=e=>{let{onPictureUpload:t=()=>{},resetOnUpload:n=!1,className:h="",initialPicture:m=null,name:x="image"}=e,[v,g]=a.useState(null),j=Math.floor(1e9*Math.random());function y(){return v?URL.createObjectURL(v):m||void 0}(0,a.useEffect)(()=>{v&&d(v).then(e=>{e&&t(e)}).then(()=>{n?g(null):g(v)})},[v]);let[w,b]=(0,a.useState)(y());return(0,a.useEffect)(()=>{b(y())},[v]),(0,a.useEffect)(()=>{m?b(m):g(null)},[m]),(0,r.jsx)(o.Z,{title:"Upload image",followCursor:!0,PopperProps:{modifiers:[{name:"offset",options:{offset:[50,0]}}]},children:(0,r.jsxs)(s.Z,{className:"".concat(h," w-full aspect-square flex items-center justify-center border-black border-[1px] pb-px"),style:w?{backgroundImage:'url("'.concat(w,'")'),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{},children:[(0,r.jsx)(l.Z,{required:!0,htmlFor:"image-dropzone-".concat(j),className:"m-2 flex items-center justify-center hover:cursor-pointer w-full h-full",onDrop:e=>f(e,g),onDragOver:e=>e.preventDefault(),sx:{"&":{backgroundColor:"rgba(0, 0, 0, 0) !important"}},children:(0,r.jsxs)(s.Z,{className:"flex flex-col gap-2 bg-white bg-opacity-90 justify-center items-center rounded-3xl p-2",children:[(0,r.jsx)(u.Z,{fontSize:"large"}),(0,r.jsx)(i.Z,{variant:"caption",className:"w-4/5 text-wrap text-center",children:"Drop your image here"})]})}),(0,r.jsx)(c.Z,{id:"image-dropzone-".concat(j),value:null===v?"":void 0,type:"file",name:x,className:"opacity-0 w-0 !p-0",onChange:e=>p(e,g),inputProps:{accept:".jpg, .jpeg, .png, .webp"}})]})})}},52646:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(25566);let a=e=>"NEXT_PUBLIC_API_URL"===e?"https://digiuni.kspu.edu/back":r.env[e]},62819:function(e,t,n){"use strict";n.d(t,{X:function(){return l},w:function(){return i}});var r=n(91617),a=n(52646),o=n(81308);let s=(0,a.p)("NEXT_PUBLIC_API_URL");function l(e,t,n){return c(r.ZP,e,t,n)}function i(e,t,n){return c(o.Z,e,t,n)}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e(t="".concat(t.startsWith("http")?"":s).concat(t,"?").concat(Object.entries(r).map(e=>"boolean"==typeof e[1]?e[0]:"".concat(e[0],"=").concat(e[1])).join("&")),async()=>{var e;let r=await fetch(t,{credentials:"include",...n});if(!r.ok)throw Error(r.statusText);return(null===(e=r.headers.get("Content-Type"))||void 0===e?void 0:e.includes("application/json"))?r.json():r.text()},{suspense:!0})}},5864:function(e,t,n){"use strict";n.d(t,{IV:function(){return l},r$:function(){return s},v_:function(){return o}});var r=n(52646);let a=e=>"".concat((0,r.p)("NEXT_PUBLIC_API_URL")).concat(e);async function o(e,t,n){return await fetch("".concat(a(e)),{method:"POST",headers:{"Content-Type":"application/json",...n},credentials:"include",body:JSON.stringify(t)})}async function s(e,t){return await fetch("".concat(a(e)),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)})}async function l(e){return await fetch("".concat(a(e)),{method:"DELETE",credentials:"include"})}}}]);