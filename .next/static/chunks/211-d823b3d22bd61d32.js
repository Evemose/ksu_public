(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{67737:function(e,t,n){var r={"./en.json":[82724,724],"./uk.json":[6583,583]};function a(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],a=t[0];return n.e(t[1]).then(function(){return n.t(a,19)})}a.keys=function(){return Object.keys(r)},a.id=67737,e.exports=a},98025:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(57437),a=n(62819),o=n(2265),s=n(73105),i=n(93430),c=n(97183),l=n(32529),u=n(94614),f=n(62409),d=n(5864),p=n(33657);function h(e){return(0,r.jsx)(i.Z,{value:e.value,onChange:e.onChange,children:s.k1.map(e=>(0,r.jsx)(c.Z,{value:e,label:e,id:"tab-".concat(e),"aria-controls":"tabpanel-".concat(e)},e))})}function m(e){let{data:t=null,addEl:n,formNode:a,domain:i,mutateRequest:c=e=>e,postUrl:m=()=>i,removeSelf:v}=e,[g,x]=(0,o.useState)("en"),[j,y]=(0,o.useState)(t);return(0,o.useEffect)(()=>{y(t)},[t]),(0,r.jsxs)(l.Z,{className:"gap-4 justify-start h-fit flex-nowrap w-[calc(33%_-_16px)]",children:[(0,r.jsx)(h,{value:g,onChange:(e,t)=>x(t)}),(0,r.jsxs)(f.Z,{onSubmit:async e=>{if(e.preventDefault(),!j)return;let r=c({localizations:Object.entries(j.localizations).map(e=>{let[t,n]=e;return{...n,language:t.toUpperCase(),id:void 0}})}),a=t?await (0,d.r$)("".concat(m(r),"/").concat(t.id),r):await (0,d.v_)(m(r),r);if(a.ok)t||(n(await a.json()),y(null));else throw f.T.ofProblemDetails(await a.json())},formProps:{className:"relative"},children:[t&&(0,r.jsx)(u.Z,{className:"!absolute top-0 right-0 translate-x-1/2 -translate-y-1/2 bg-red-400 hover:!bg-red-600",onClick:async()=>{let e=await (0,d.IV)("".concat(i,"/").concat(t.id));e.ok||console.error(e.status+" "+await e.text()),v()},children:(0,r.jsx)(p.Z,{})}),s.k1.map(e=>(0,r.jsx)(l.Z,{hidden:e!==g,id:"tabpanel-".concat(e),"aria-labelledby":"tab-$locale}",className:"gap-4 w-full justify-center",children:a(j,y,e)},e))]})]})}function v(e){let{domain:t,formNode:n,idSource:s,mutateRequest:i,postUrl:c,processDto:u=e=>e}=e,{data:f}=(0,a.X)(t),[d,p]=(0,o.useState)(f.map(h));function h(e){let t={};for(let n in e.localizations)t[n.toLowerCase()]=e.localizations[n];return u({...e,localizations:t})}function v(e){p([...d,h(e)])}return(0,r.jsxs)(l.Z,{className:"gap-4 flex-wrap justify-center",direction:"row",children:[(0,r.jsx)(m,{addEl:v,formNode:n,domain:t,mutateRequest:i,postUrl:c}),d.map(e=>(0,r.jsx)(m,{mutateRequest:i,postUrl:c,data:e,addEl:v,formNode:n,domain:s?t.replace("{id}",s(e)):t,removeSelf:()=>p(d.filter(t=>t!==e))},e.id))]})}},73105:function(e,t,n){"use strict";n.d(t,{he:function(){return s},k1:function(){return o}});var r=n(16463),a=n(65051);let o=Object.freeze(["uk","en"]),s=Object.freeze({en:"ENG",uk:"УКР"});(0,a.cF)(async e=>{let{locale:t}=e;return o.includes(t)||(0,r.notFound)(),{messages:(await n(67737)("./".concat(t,".json"))).default}})},50450:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(57437),a=n(75519);function o(e){var t;let{children:n,disableArrow:o,props:s={}}=e;return(0,r.jsxs)(a.Z,{...s,className:"".concat(null!==(t=s.className)&&void 0!==t?t:""," !bg-button-primary \n                !capitalize hover:!bg-button-hover-primary \n                [&>*]:!text-white \n                !px-12 !h-14 gap-4 !py-0"),sx:{"&:hover > svg":{transform:"translateX(4px)"}},children:[n,!o&&(0,r.jsxs)("svg",{height:"14",viewBox:"0 0 28 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"transition-transform ease-linear duration-200",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.2931 7.00003L20.6465 12.6485L21.3537 13.3555L27.7071 7.00001L21.3537 0.644792L20.6465 1.3518L26.2931 7.00003Z",fill:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.50024L27 6.50024L27 7.50024L8.74228e-08 7.50024L0 6.50024Z",fill:"white"})]})]})}},15289:function(e,t,n){"use strict";n.d(t,{M:function(){return s}});var r=n(57437),a=n(79706),o=n(2265);function s(e){let{props:t}=e,[n,s]=(0,o.useState)({start:0,end:0});if(t.type&&"text"!==t.type)throw Error("ControlledTextField only supports type='text'");let i=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(i.current){let e=i.current.type;i.current.type="text",i.current.setSelectionRange(n.start,n.end),i.current.type=e}},[n,t.value]),(0,r.jsx)(a.Z,{...t,onChange:e=>{var n,r,a;t.onChange&&t.onChange(e),s({start:null!==(r=e.target.selectionStart)&&void 0!==r?r:0,end:null!==(a=e.target.selectionEnd)&&void 0!==a?a:0}),null===(n=i.current)||void 0===n||n.focus()},inputRef:i})}},62409:function(e,t,n){"use strict";n.d(t,{T:function(){return f},Z:function(){return d}});var r=n(57437),a=n(2265),o=n(79706),s=n(44812),i=n(32529),c=n(61520),l=n(27270),u=n(18087);class f extends Error{get errors(){return this._errors}static ofProblemDetails(e){return new f(e.map(e=>{let{detail:t,properties:n}=e;return{[Object.keys(n)[0]]:t}}))}constructor(e){super("Form fields validation failed"),this._errors=e}}function d(e){var t,n;let{children:d,onSubmit:p,messageOverrides:h={},formProps:m={},disableSuccessSnackbar:v=!1}=e,[g,x]=a.useState([]),[j,y]=a.useState(null),b=(0,u.useTranslations)("form"),w=a.Children.toArray(d).map(e=>(function e(t){if(t.children&&(t.children=a.Children.toArray(t.children).map(t=>e(t))),t.type===o.Z||t.type===s.Z){let e=g.find(e=>Object.keys(e)[0]===t.props.name);if(e)return a.cloneElement(t,{error:!0,helperText:Object.values(e)[0],onChange:e=>{t.props.onChange&&t.props.onChange(e),x(g.filter(e=>Object.keys(e)[0]!==t.props.name))}})}return t})(e)).map((e,t)=>a.cloneElement(e,{key:t}));return(0,r.jsxs)(i.Z,{onSubmit:async e=>{try{await p(e),y("success")}catch(e){if(!(e instanceof f))throw e;y("error"),x(e.errors)}},...m,component:"form",children:[w.map((e,t)=>e),!v&&(0,r.jsx)(c.Z,{open:"success"===j,onClose:()=>y(null),children:(0,r.jsx)(l.Z,{severity:"success",variant:"filled",onClose:()=>y(null),children:null!==(t=h.success)&&void 0!==t?t:b("success")})}),(0,r.jsx)(c.Z,{open:"error"===j,onClose:()=>y(null),children:(0,r.jsx)(l.Z,{severity:"error",variant:"filled",onClose:()=>y(null),children:null!==(n=h.error)&&void 0!==n?n:b("error")})})]})}},57561:function(e,t,n){"use strict";n.d(t,{v:function(){return h}});var r=n(57437),a=n(2265),o=n(31655),s=n(37169),i=n(56065),c=n(83719),l=n(44812),u=n(5371);let f=e=>new Promise((t,n)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=n}),d=async(e,t)=>{for(let n of(e.preventDefault(),e.dataTransfer.files))n.type.startsWith("image")&&t(n)},p=async(e,t)=>{e.currentTarget.files&&e.currentTarget.files[0]&&e.currentTarget.files[0].type.startsWith("image")&&t(e.currentTarget.files[0])},h=e=>{let{onPictureUpload:t=()=>{},resetOnUpload:n=!1,className:h="",initialPicture:m=null,name:v="image"}=e,[g,x]=a.useState(null),j=Math.floor(1e9*Math.random());function y(){return g?URL.createObjectURL(g):m||void 0}(0,a.useEffect)(()=>{g&&f(g).then(e=>{e&&t(e)}).then(()=>{n?x(null):x(g)})},[g]);let[b,w]=(0,a.useState)(y());return(0,a.useEffect)(()=>{w(y())},[g]),(0,a.useEffect)(()=>{m?w(m):x(null)},[m]),(0,r.jsx)(o.Z,{title:"Upload image",followCursor:!0,PopperProps:{modifiers:[{name:"offset",options:{offset:[50,0]}}]},children:(0,r.jsxs)(s.Z,{className:"".concat(h," w-full aspect-square flex items-center justify-center border-black border-[1px] pb-px"),style:b?{backgroundImage:'url("'.concat(b,'")'),backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{},children:[(0,r.jsx)(i.Z,{required:!0,htmlFor:"image-dropzone-".concat(j),className:"m-2 flex items-center justify-center hover:cursor-pointer w-full h-full",onDrop:e=>d(e,x),onDragOver:e=>e.preventDefault(),sx:{"&":{backgroundColor:"rgba(0, 0, 0, 0) !important"}},children:(0,r.jsxs)(s.Z,{className:"flex flex-col gap-2 bg-white bg-opacity-90 justify-center items-center rounded-3xl p-2",children:[(0,r.jsx)(u.Z,{fontSize:"large"}),(0,r.jsx)(c.Z,{variant:"caption",className:"w-4/5 text-wrap text-center",children:"Drop your image here"})]})}),(0,r.jsx)(l.Z,{id:"image-dropzone-".concat(j),value:null===g?"":void 0,type:"file",name:v,className:"opacity-0 w-0 !p-0",onChange:e=>p(e,x),inputProps:{accept:".jpg, .jpeg, .png, .webp"}})]})})}},52646:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(25566);let a=e=>"NEXT_PUBLIC_API_URL"===e?"https://digiuni.kspu.edu/back":r.env[e]},62819:function(e,t,n){"use strict";n.d(t,{X:function(){return i},w:function(){return c}});var r=n(91617),a=n(52646),o=n(81308);let s=(0,a.p)("NEXT_PUBLIC_API_URL");function i(e,t,n){return l(r.ZP,e,t,n)}function c(e,t,n){return l(o.Z,e,t,n)}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e(t="".concat(t.startsWith("http")?"":s).concat(t,"?").concat(Object.entries(r).map(e=>"boolean"==typeof e[1]?e[0]:"".concat(e[0],"=").concat(e[1])).join("&")),async()=>{var e;let r=await fetch(t,{credentials:"include",...n});if(!r.ok)throw Error(r.statusText);return(null===(e=r.headers.get("Content-Type"))||void 0===e?void 0:e.includes("application/json"))?r.json():r.text()},{suspense:!0})}},5864:function(e,t,n){"use strict";n.d(t,{IV:function(){return i},r$:function(){return s},v_:function(){return o}});var r=n(52646);let a=e=>"".concat((0,r.p)("NEXT_PUBLIC_API_URL")).concat(e);async function o(e,t,n){return await fetch("".concat(a(e)),{method:"POST",headers:{"Content-Type":"application/json",...n},credentials:"include",body:JSON.stringify(t)})}async function s(e,t){return await fetch("".concat(a(e)),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)})}async function i(e){return await fetch("".concat(a(e)),{method:"DELETE",credentials:"include"})}}}]);